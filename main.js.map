{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;AAC0D;AAEZ;;;;;;;;ICDtCE,4DAAAA,UAAgE;IAC3CA,wDAAAA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,6BAAkB;IAAA,EAAC;IAACA,oDAAAA,aAAO;IAAAA,0DAAAA,EAAI;IACzDA,uDAAAA,cAAyC;IAC7CA,0DAAAA,EAAM;;;;;IAH4BA,wDAAAA,6BAA6B;IAErDA,uDAAAA,GAA2B;IAA3BA,wDAAAA,gCAAAA,4DAAAA,CAA2B;;;;;IAJ7CA,4DAAAA,aAA6C;IAErCA,wDAAAA,wDAGM;IACVA,0DAAAA,EAAM;;;;IAJqBA,uDAAAA,GAAS;IAATA,wDAAAA,0BAAS;;;ADIxC;AACA;AAGM,MAAOC,cAAc;EAQvBC,YAAoBC,MAAc,EAAUC,YAA0B;IAAlD,WAAM,GAAND,MAAM;IAAkB,iBAAY,GAAZC,YAAY;IAP/C,OAAE,GAAG,eAAe;IACpB,SAAI,GAAG,IAAI;IAEpB,WAAM,GAAY,EAAE;EAIsD;EAE1EC,QAAQ;IACJ;IACA,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACF,YAAY,CAACG,OAAO,CAAC,IAAI,CAACC,EAAE,CAAC,CACtDC,SAAS,CAACC,KAAK,IAAG;MACf;MACA,IAAI,CAACA,KAAK,CAACC,OAAO,EAAE;QAChB;QACA,IAAI,CAACC,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,oBAAoB,CAAC;QAE7D;QACA,IAAI,CAACH,MAAM,CAACI,OAAO,CAACF,CAAC,IAAI,OAAOA,CAAC,CAACC,oBAAoB,CAAC;QACvD;;MAGJ;MACA,IAAI,CAACH,MAAM,CAACK,IAAI,CAACP,KAAK,CAAC;MAEvB;MACA,IAAIA,KAAK,CAACQ,SAAS,EAAE;QACjBC,UAAU,CAAC,MAAM,IAAI,CAACC,WAAW,CAACV,KAAK,CAAC,EAAE,IAAI,CAAC;;IAExD,CAAC,CAAC;IAEL;IACA,IAAI,CAACW,iBAAiB,GAAG,IAAI,CAAClB,MAAM,CAACmB,MAAM,CAACb,SAAS,CAACc,KAAK,IAAG;MAC1D,IAAIA,KAAK,YAAYzB,4DAAe,EAAE;QAClC,IAAI,CAACM,YAAY,CAACoB,KAAK,CAAC,IAAI,CAAChB,EAAE,CAAC;;IAExC,CAAC,CAAC;EACN;EAEAiB,WAAW;IACP;IACA,IAAI,CAACnB,iBAAiB,CAACoB,WAAW,EAAE;IACpC,IAAI,CAACL,iBAAiB,CAACK,WAAW,EAAE;EACxC;EAEAN,WAAW,CAACV,KAAY;IACpB;IACA,IAAI,CAAC,IAAI,CAACE,MAAM,CAACe,QAAQ,CAACjB,KAAK,CAAC,EAAE;IAElC,IAAI,IAAI,CAACkB,IAAI,EAAE;MACX;MACAlB,KAAK,CAACkB,IAAI,GAAG,IAAI;MAEjB;MACAT,UAAU,CAAC,MAAK;QACZ,IAAI,CAACP,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKJ,KAAK,CAAC;MACtD,CAAC,EAAE,GAAG,CAAC;KACV,MAAM;MACH;MACA,IAAI,CAACE,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKJ,KAAK,CAAC;;EAE1D;EAEAmB,UAAU,CAACnB,KAAY;IACnB,IAAI,CAACA,KAAK,EACV;MACI,OAAO,IAAI;;IAGf,MAAMoB,OAAO,GAAG,CAAC,OAAO,EAAE,mBAAmB,CAAC;IAE9C,MAAMC,cAAc,GAAG;MACnB,CAAChC,sDAAiB,GAAG,qBAAqB;MAC1C,CAACA,oDAAe,GAAG,oBAAoB;MACvC,CAACA,mDAAc,GAAG,kBAAkB;MACpC,CAACA,sDAAiB,GAAG;KACxB;IAED+B,OAAO,CAACb,IAAI,CAACc,cAAc,CAACrB,KAAK,CAAC0B,IAAI,CAAC,CAAC;IAExC,IAAI1B,KAAK,CAACkB,IAAI,EAAE;MACZE,OAAO,CAACb,IAAI,CAAC,MAAM,CAAC;;IAGxB,OAAOa,OAAO,CAACO,IAAI,CAAC,GAAG,CAAC;EAC5B;EAAC;qBAvFQpC,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAqC;IAAAC;MAAA/B;MAAAoB;IAAA;IAAAY;IAAAC;IAAAC;IAAAC;MAAA;QCV3B3C,wDAAAA,kDAOM;;;QAPAA,wDAAAA,2BAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACInB,SAAU4C,cAAc,CAACC,cAA8B;EAC3D,OAAO,MAAM,IAAIC,OAAO,CAAEC,OAAY,IAAI;IACxC;IACA;IACAF,cAAc,CAACG,YAAY,EAAE,CAC1BvC,SAAS,CAAC;MACTwC,IAAI,EAAGC,KAAU,IAAI;QACnBC,OAAO,CAACC,GAAG,CAAC,6BAA6B,GAAGF,KAAK,CAACG,SAAS,EAAEH,KAAK,CAACI,QAAQ,EAAEJ,KAAK,CAACK,KAAK,CAAC;MAC3F,CAAC;MACDC,KAAK,EAAGA,KAAa,IAAI;QAEvBL,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACxC;KACD,CAAC,CACDK,GAAG,CAACV,OAAO,CAAC;EACjB,CAAC,CAAC,CAACW,IAAI,CAAE/C,OAAO,IAAI;IAClBwC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;EACvC,CAAC,CAAC,CAACO,KAAK,CAAEhD,OAAO,IAAI;IACnBwC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;EACjD,CAAC,CAAC;AACJ;AAEA;;;;;;;;;;;;;;;;;;;;;ACzBmH;;;;AAK7G,MAAOW,SAAS;EAClB7D,YACYC,MAAc,EACd0C,cAA8B;IAD9B,WAAM,GAAN1C,MAAM;IACN,mBAAc,GAAd0C,cAAc;EACtB;EAEJmB,WAAW,CAACC,KAA6B,EAAEC,KAA0B;IACjEf,OAAO,CAACC,GAAG,CAAC,4BAA4B,GAAGa,KAAK,CAACE,MAAM,CAACC,GAAG,CAAC;IAC5DjB,OAAO,CAACC,GAAG,CAAC,gCAAgC,GAAG,IAAI,CAACiB,gBAAgB,CAACJ,KAAK,CAAC,CAAC;IAC5Ed,OAAO,CAACC,GAAG,CAAC,8BAA8B,GAAG,IAAI,CAACkB,cAAc,CAACL,KAAK,CAAC,CAAC;IACxEd,OAAO,CAACC,GAAG,CAAC,4BAA4B,GAAGmB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;IAChE,MAAMC,OAAO,GAAG,IAAI,CAAC7B,cAAc,CAAC8B,YAAY;IAChD,IAAID,OAAO,EAAE;MACT;MACA,IAAIT,KAAK,CAACW,IAAI,CAAC,OAAO,CAAC,IAAI,CAACX,KAAK,CAACW,IAAI,CAAC,OAAO,CAAC,CAACjD,QAAQ,CAAC+C,OAAO,CAACG,IAAI,CAAC,EAAE;QACpE;QACA,IAAI,CAAC1E,MAAM,CAAC2E,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3B3B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;QACjC,OAAO,KAAK;;MAGhB;MACAD,OAAO,CAACC,GAAG,CAAC,8BAA8B,GAAG,IAAI,CAACkB,cAAc,CAACL,KAAK,CAAC,CAAC;MACxE,OAAO,IAAI;;IAGfd,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;IACvD;IACA,IAAI,CAACjD,MAAM,CAAC2E,QAAQ,CAAC,CAAC,gBAAgB,CAAC,EAAE;MAAEC,WAAW,EAAE;QAAEC,SAAS,EAAEd,KAAK,CAACE;MAAG;IAAE,CAAE,CAAC;IACnF,OAAO,KAAK;EAChB;EACAC,gBAAgB,CAACJ,KAA6B;IAC1C,OAAO,GAAG,GAAGA,KAAK,CAACgB,YAAY,CAC1BpE,MAAM,CAACqE,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAC1BC,GAAG,CAACF,CAAC,IAAIA,CAAC,CAACC,WAAY,CAACE,IAAI,CAAC,CAC7BhD,IAAI,CAAC,GAAG,CAAC;EAClB;EACAiC,cAAc,CAACL,KAA6B;IACxC,IAAIG,GAAG,GAAGH,KAAK,CAACgB,YAAY,CAACG,GAAG,CAAEF,CAAC,IAAKA,CAAC,CAACd,GAAG,CAACgB,GAAG,CAAEE,OAAO,IAAKA,OAAO,CAACC,QAAQ,EAAE,CAAC,CAAClD,IAAI,CAAC,GAAG,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC;IACvG,MAAMmD,UAAU,GAAGvB,KAAK,CAACwB,aAAa;IACtC,IAAID,UAAU,CAACE,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;MAC5BvB,GAAG,IAAI,GAAG,GAAGoB,UAAU,CAACE,IAAI,CAACN,GAAG,CAACQ,GAAG,IAAIJ,UAAU,CAACK,MAAM,CAACD,GAAG,CAAC,CAACR,GAAG,CAAClC,KAAK,IAAI0C,GAAG,GAAG,GAAG,GAAG1C,KAAK,CAAC,CAACb,IAAI,CAAC,GAAG,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC;;IAEvH,OAAO+B,GAAG;EACd;EACA0B,0BAA0B,CAAC7B,KAA6B;IACpD,IAAIG,GAAG,GAAGH,KAAK,CAACgB,YAAY,CAACG,GAAG,CAAEF,CAAC,IAAKA,CAAC,CAACd,GAAG,CAACgB,GAAG,CAAEE,OAAO,IAAKA,OAAO,CAACC,QAAQ,EAAE,CAAC,CAAClD,IAAI,CAAC,GAAG,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC;IACvG,MAAMmD,UAAU,GAAGvB,KAAK,CAACwB,aAAa;IACtC,IAAID,UAAU,CAACE,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;MAC5BvB,GAAG,IAAI,GAAG,GAAGoB,UAAU,CAACE,IAAI,CAACN,GAAG,CAACQ,GAAG,IAAIJ,UAAU,CAACK,MAAM,CAACD,GAAG,CAAC,CAACR,GAAG,CAAClC,KAAK,IAAI0C,GAAG,GAAG,GAAG,GAAG1C,KAAK,CAAC,CAACb,IAAI,CAAC,GAAG,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC;;IAEvH,OAAO+B,GAAG;EACd;EAAC;qBApDQL,SAAS;EAAA;EAAA;WAATA,SAAS;IAAAgC,SAAThC,SAAS;IAAAiC,YADI;EAAM;;;;;;;;;;;;;;;;;;;;ACJ4D;AAC9C;AACF;;;AAKtC,MAAOM,gBAAgB;EACzBpG,YAAoB2C,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;EAAoB;EAEtD0D,SAAS,CAACC,OAAyB,EAAEvD,IAAiB;IAClD,OAAOA,IAAI,CAACwD,MAAM,CAACD,OAAO,CAAC,CAACE,IAAI,CAACL,0DAAU,CAACM,GAAG,IAAG;MAC9C,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAChF,QAAQ,CAACgF,GAAG,CAACC,MAAM,CAAC,IAAI,IAAI,CAAC/D,cAAc,CAAC8B,YAAY,EAAE;QACrE;QACA,IAAI,CAAC9B,cAAc,CAACgE,MAAM,EAAE;;MAGhC,MAAMC,IAAI,GAAIH,GAAG,IAAIA,GAAG,CAACnD,KAAK,IAAImD,GAAG,CAACnD,KAAK,CAAC7C,OAAO,IAAKgG,GAAG,CAACI,UAAU;MACtE5D,OAAO,CAACK,KAAK,CAAC,oBAAoB,GAAGsD,IAAI,CAAC;MAC1C,OAAOV,gDAAU,CAAC,MAAMU,IAAI,CAAC;IACjC,CAAC,CAAC,CAAC;EACP;EAAC;qBAdQR,gBAAgB;EAAA;EAAA;WAAhBA,gBAAgB;IAAAP,SAAhBO,gBAAgB;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACRK;AACL;AACO;AACF;;;;;;;;;;;;;;;;;;;ACF0D;AAKjC;;;AAGrD,MAAOW,cAAc;EACvB/G,YAAoB2C,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;EAAoB;EAEtD0D,SAAS,CAACC,OAAyB,EAAEvD,IAAiB;IAClD;IACA,MAAMyB,OAAO,GAAG,IAAI,CAAC7B,cAAc,CAAC8B,YAAY;IAChD,MAAMuC,UAAU,GAAGxC,OAAO,IAAIA,OAAO,CAACyC,QAAQ;IAC9C,MAAMC,QAAQ,GAAGZ,OAAO,CAACpC,GAAG,CAACiD,UAAU,CAACL,4EAAkB,CAAC;IAC3D,IAAIE,UAAU,IAAIE,QAAQ,EAAE;MACxBZ,OAAO,GAAGA,OAAO,CAACe,KAAK,CAAC;QACpBC,UAAU,EAAE;UAAEC,aAAa,EAAE,UAAU/C,OAAO,CAACyC,QAAQ;QAAE;OAC5D,CAAC;;IAGN,OAAOlE,IAAI,CAACwD,MAAM,CAACD,OAAO,CAAC;EAC/B;EAAC;qBAfQS,cAAc;EAAA;EAAA;WAAdA,cAAc;IAAAlB,SAAdkB,cAAc;EAAA;;;;;;;;;;;;;;;;ACP3B;AACM,SAAUS,SAAS,CAACC,WAAmB,EAAEC,mBAA2B;EACtE,OAAQC,SAAoB,IAAI;IAC5B,MAAMC,OAAO,GAAGD,SAAS,CAACE,QAAQ,CAACJ,WAAW,CAAC;IAC/C,MAAMK,eAAe,GAAGH,SAAS,CAACE,QAAQ,CAACH,mBAAmB,CAAC;IAE/D,IAAII,eAAe,CAACC,MAAM,IAAI,CAACD,eAAe,CAACC,MAAM,CAAC,WAAW,CAAC,EAAE;MAChE;MACA;;IAGJ;IACA,IAAIH,OAAO,CAAC5E,KAAK,KAAK8E,eAAe,CAAC9E,KAAK,EAAE;MACzC8E,eAAe,CAACE,SAAS,CAAC;QAAEC,SAAS,EAAE;MAAI,CAAE,CAAC;KACjD,MAAM;MACHH,eAAe,CAACE,SAAS,CAAC,IAAI,CAAC;;EAEvC,CAAC;AACL;;;;;;;;;;;;;;;;;;;ACd2D;AAC1B;;AAGjC,MAAMG,UAAU,GAAG,GAAGrB,oFAA0B,EAAE;AAClD,MAAMuB,eAAe,GAAG,GAAGvB,yFAA+B,EAAE;AAGtD,MAAOyB,WAAW;EACpBvI,eAAgB;EAChB,OAAOwI,aAAa,CAACC,EAAmB;IACpC,IAAIA,EAAE,IAAIA,EAAE,CAACzF,KAAK,IAAI,CAACkF,mCAAM,CAACO,EAAE,CAACzF,KAAK,EAAE,GAAG8D,gFAAsB,EAAE,EAAE,IAAI,CAAC,CAAC4B,OAAO,EAAE,EAAE;MAClF,OAAO;QAAE,cAAc,EAAE;MAAI,CAAE;;IAEnC,OAAO,IAAI;EACf;EACA,OAAOC,yBAAyB,CAACC,OAAe;IAC5C,IAAIC,IAAI,GAAGX,mCAAM,CAACU,OAAO,EAAET,UAAU,CAAC,CAACW,MAAM,EAAE;IAC/C,IAAIC,UAAU,GAAGF,IAAI,CAACG,iBAAiB,EAAE;IACzC,IAAIC,YAAY,GAAG,IAAIC,IAAI,CAACL,IAAI,CAACM,OAAO,EAAE,GAAGJ,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC,CAACK,WAAW,EAAE,CAAC,CAAC;IACpF,OAAOH,YAAY,CAACI,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;EACxC;EACA,OAAOC,eAAe,CAACV,OAAe;IAClC,IAAIC,IAAI,GAAGX,mCAAM,CAACU,OAAO,EAAET,UAAU,CAAC,CAACW,MAAM,EAAE;IAC/C,IAAIC,UAAU,GAAGF,IAAI,CAACG,iBAAiB,EAAE;IACzC,OAAO,IAAIE,IAAI,CAACL,IAAI,CAACM,OAAO,EAAE,GAAGJ,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAC9D;;EACA,OAAOQ,sBAAsB,CAACX,OAAe;IACzC,IAAIC,IAAI,GAAGX,mCAAM,CAACU,OAAO,EAAET,UAAU,CAAC,CAACW,MAAM,EAAE;IAC/C,IAAIC,UAAU,GAAGF,IAAI,CAACG,iBAAiB,EAAE;IACzC,OAAO,IAAIE,IAAI,CAACL,IAAI,CAACM,OAAO,EAAE,GAAGJ,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EAC9D;;EACA,OAAOS,2BAA2B,CAACX,IAAU;IACzC,OAAOX,mCAAM,CAACW,IAAI,CAAC,CAACY,MAAM,CAACtB,UAAU,CAAC;EAC1C;EACA,OAAOuB,gCAAgC,CAACb,IAAU;IAC9C,OAAOX,mCAAM,CAACW,IAAI,CAAC,CAACY,MAAM,CAACpB,eAAe,CAAC;EAC/C;EACA,OAAOsB,gCAAgC,CAACd,IAAU;IAC9C,OAAON,WAAW,CAACI,yBAAyB,CAACJ,WAAW,CAACiB,2BAA2B,CAACX,IAAI,CAAC,CAAC;EAC/F;EAEA,OAAOe,uBAAuB,CAACf,IAAU;IACrC,OAAOX,mCAAM,CAACA,uCAAU,CAACW,IAAI,CAAC,CAAC,CAACiB,KAAK,EAAE,CAAChB,MAAM,EAAE;EACpD;EAAC;qBApCQP,WAAW;EAAA;EAAA;WAAXA,WAAW;IAAA1C,SAAX0C,WAAW;EAAA;;;;;;;;;;;;;;;;ACVlB,MAAOwB,OAAO;EAApB/J;IAOI,cAAS,GAAe,EAAE;IAC1B,kBAAa,GAAmB,EAAE;EAStC;;;;;;;;;;;;;;;;;ACrBM,MAAOgK,KAAK;EAQdhK,YAAYiK,IAAoB;IAPhC,OAAE,GAAW,EAAE;IACf,SAAI,GAAc,CAAC;IACnB,YAAO,GAAW,EAAE;IACpB,cAAS,GAAY,KAAK;IAC1B,yBAAoB,GAAa,KAAK;IACtC,SAAI,GAAY,KAAK;IAGjBC,MAAM,CAACC,MAAM,CAAC,IAAI,EAAEF,IAAI,CAAC;EAC7B;;AAGG,IAAKpK,SAKX;AALD,WAAYA,SAAS;EACjBA,+CAAO;EACPA,2CAAK;EACLA,yCAAI;EACJA,+CAAO;AACX,CAAC,EALWA,SAAS,KAATA,SAAS;;;;;;;;;;;;;;;;;;;;;ACbK;AACF;;;;;;;;;;;;;;;;ACDjB,IAAKuK,IAIX;AAJD,WAAYA,IAAI;EACZA,qBAAa;EACbA,uBAAe;AAEnB,CAAC,EAJWA,IAAI,KAAJA,IAAI;;;;;;;;;;;;;;;;;;;;;;;ACE+C;AACZ;AACC;AAEpD;AAC2C;AASgB;;;;AAO3D,MAAMI,OAAO,GAAG,GAAG1D,4EAAkB,WAAW;AAG1C,MAAO2D,cAAc;EAIvBzK,YACYC,MAAc,EACdyK,IAAgB;IADhB,WAAM,GAANzK,MAAM;IACN,SAAI,GAAJyK,IAAI;IAEZ,IAAI,CAACC,cAAc,GAAG,IAAIL,iDAAe,CAAU,IAAI,CAAC;IACxD,IAAI,CAAC9F,OAAO,GAAG,IAAI,CAACmG,cAAc,CAACC,YAAY,EAAE;EACrD;EAEA,IAAWnG,YAAY;IACnB,OAAO,IAAI,CAACkG,cAAc,CAAC3H,KAAK;EACpC;EAEA6H,KAAK,CAACxH,KAAa,EAAEyH,QAAgB,EAAEC,GAAW;IAC9C,OAAO,IAAI,CAACL,IAAI,CAACM,IAAI,CAAU,GAAGR,OAAO,eAAe,EAAE;MAAEnH,KAAK;MAAEyH,QAAQ;MAAEC;IAAG,CAAE,EAAE;MAAEE,eAAe,EAAE;IAAI,CAAE,CAAC,CACzGzE,IAAI,CAACtB,mDAAG,CAACV,OAAO,IAAG;MAChB;MACA,IAAI,CAACmG,cAAc,CAAC5H,IAAI,CAACyB,OAAO,CAAC;MACjC,IAAI,CAAC0G,sBAAsB,EAAE;MAC7B,OAAO1G,OAAO;IAClB,CAAC,CAAC,CAAC;EACX;EAEA;EACJ;;;;;;;;;EASImC,MAAM;IACF,IAAI,CAAC+D,IAAI,CAACM,IAAI,CAAM,GAAGR,OAAO,eAAe,EAAE,EAAE,EAAE;MAAES,eAAe,EAAE;IAAI,CAAE,CAAC,CAAC1K,SAAS,EAAE;IACzF,IAAI,CAAC4K,qBAAqB,EAAE;IAC5B,IAAI,CAACR,cAAc,CAAC5H,IAAI,CAAC,IAAI,CAAC;IAC9B,IAAI,CAAC9C,MAAM,CAAC2E,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;EAC5C;EAEA9B,YAAY;IACR,OAAO,IAAI,CAAC4H,IAAI,CAACM,IAAI,CAAM,GAAGR,OAAO,gBAAgB,EAAE,CAAC,uBAAwB,EAAE;MAAES,eAAe,EAAE;IAAI,CAAE,CAAC,CACvGzE,IAAI,CAACtB,mDAAG,CAAEV,OAAO,IAAI;MAClB,IAAI,CAACmG,cAAc,CAAC5H,IAAI,CAACyB,OAAO,CAAC;MACjC,MAAM4G,MAAM,GAAGC,QAAQ,CAACD,MAAM;MAC9B,IAAI,CAACF,sBAAsB,EAAE;MAC7B,OAAO1G,OAAO;IAClB,CAAC,CAAC,CAAC;EACX;EAEA8G,QAAQ,CAAC9G,OAAgB;IACrB,OAAO,IAAI,CAACkG,IAAI,CAACM,IAAI,CAAC,GAAGR,OAAO,WAAW,EAAEhG,OAAO,CAAC;EACzD;EAEA+G,WAAW,CAACC,KAAa,EAAET,GAAY;IACnC,OAAO,IAAI,CAACL,IAAI,CAACM,IAAI,CAAC,GAAGR,OAAO,eAAe,EAAE;MAAEgB,KAAK;MAAET;IAAG,CAAE,CAAC;EACpE;EAEAU,cAAc,CAACpI,KAAa,EAAE0H,GAAU;IACpC9H,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IACpC,OAAO,IAAI,CAACwH,IAAI,CAACM,IAAI,CAAC,GAAGR,OAAO,kBAAkB,EAAE;MAAEnH,KAAK;MAAE0H;IAAG,CAAE,CAAC;EACvE;EAEAW,kBAAkB,CAACF,KAAa,EAAET,GAAY;IAC1C9H,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,OAAO,IAAI,CAACwH,IAAI,CAACM,IAAI,CAAC,GAAGR,OAAO,uBAAuB,EAAE;MAAEgB,KAAK;MAAET;IAAG,CAAE,CAAC;EAC5E;EAEAY,aAAa,CAACH,KAAa,EAAEV,QAAgB,EAAEc,eAAuB;IAClE3I,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnC,MAAM2I,OAAO,GAAE,IAAIxB,6DAAW,EAAE,CAC3ByB,GAAG,CAAC,iBAAiB,EAAE,aAAa,CAAC;IAC1C,OAAO,IAAI,CAACpB,IAAI,CAACM,IAAI,CAAC,GAAGR,OAAO,iBAAiB,EAAE;MAAEgB,KAAK;MAAEV,QAAQ;MAAEc;IAAe,CAAE,EAAE;MAAC,SAAS,EAAGC;IAAO,CAAC,CAAC;EACnH;EAEAlG,MAAM;IACF,OAAO,IAAI,CAAC+E,IAAI,CAACqB,GAAG,CAAYvB,OAAO,CAAC;EAC5C;EAEAwB,OAAO,CAAC1L,EAAU;IACd,OAAO,IAAI,CAACoK,IAAI,CAACqB,GAAG,CAAU,GAAGvB,OAAO,IAAIlK,EAAE,EAAE,CAAC;EACrD;EAEA2L,WAAW;IACP,OAAO,IAAI,CAACvB,IAAI,CAACqB,GAAG,CAAoB,GAAGvB,OAAO,YAAY,CAAC;EACnE;EACA0B,yBAAyB,CAACtD,OAAY;IAClC,OAAO,IAAI,CAAC8B,IAAI,CAACqB,GAAG,CAAoB,GAAGvB,OAAO,mBAAmB5B,OAAO,EAAE,CAAC;EACnF;EAEAuD,qBAAqB,CAAC7L,EAAO;IACzB,OAAO,IAAI,CAACoK,IAAI,CAACqB,GAAG,CAAuB,GAAGvB,OAAO,wBAAwBlK,EAAE,EAAE,CAAC;EACtF;EACA8L,wBAAwB;IACpB,OAAO,IAAI,CAAC1B,IAAI,CAACqB,GAAG,CAAuB,GAAGvB,OAAO,0BAA0B,CAAC;EACpF;EACA6B,WAAW,CAAC/L,EAAO,EAAEgM,QAAa;IAC9B,OAAO,IAAI,CAAC5B,IAAI,CAAC6B,GAAG,CAAU,GAAG/B,OAAO,iBAAiBlK,EAAE,EAAE,EAAEgM,QAAQ,CAAC;EAC5E;EACAE,cAAc,CAAClM,EAAO,EAAEgM,QAAkB;IACtC,OAAO,IAAI,CAAC5B,IAAI,CAACM,IAAI,CAAC,GAAGR,OAAO,oBAAoBlK,EAAE,EAAE,EAAEgM,QAAQ,CAAC,CAC9D9F,IAAI,CAACtB,mDAAG,CAAEV,OAAY,IAAI;MACvB;MACA,IAAIA,OAAO,CAAClE,EAAE,KAAK,IAAI,CAACmE,YAAY,CAACnE,EAAE,EAAE;QACrC;QACAkE,OAAO,GAAG;UAAE,GAAG,IAAI,CAACC,YAAY;UAAE,GAAGD;QAAO,CAAE;QAC9C,IAAI,CAACmG,cAAc,CAAC5H,IAAI,CAACyB,OAAO,CAAC;;MAErC,OAAOA,OAAO;IAClB,CAAC,CAAC,CAAC;EACX;EAEAiI,cAAc,CAACnM,EAAO,EAAEgM,QAAa;IACjC,OAAO,IAAI,CAAC5B,IAAI,CAACM,IAAI,CAAU,GAAGR,OAAO,oBAAoBlK,EAAE,EAAE,EAAEgM,QAAQ,CAAC;EAChF;EAEAI,WAAW,CAACpM,EAAO,EAAEqM,YAAiB;IAClC,OAAO,IAAI,CAACjC,IAAI,CAAC6B,GAAG,CAAU,GAAG/B,OAAO,iBAAiBlK,EAAE,EAAE,EAAEqM,YAAY,CAAC;EAChF;EAEAC,cAAc,CAACtM,EAAO,EAAEqM,YAAiB;IACrC,OAAO,IAAI,CAACjC,IAAI,CAACM,IAAI,CAAU,GAAGR,OAAO,oBAAoBlK,EAAE,EAAE,EAAEqM,YAAY,CAAC;EACpF;EAEAE,iBAAiB,CAACvM,EAAU,EAAE+C,KAAa,EAAEsJ,YAAoB;IAC7D,OAAO,IAAI,CAACjC,IAAI,CAACM,IAAI,CAAsB,GAAGR,OAAO,wBAAwBlK,EAAE,IAAI+C,KAAK,IAAIsJ,YAAY,EAAE,EAAE,EAAE,CAAC;EACnH;EAEAG,iBAAiB,CAACxM,EAAO,EAAEgM,QAAa;IACpC,OAAO,IAAI,CAAC5B,IAAI,CAACM,IAAI,CAAU,GAAGR,OAAO,0BAA0BlK,EAAE,EAAE,EAAEgM,QAAQ,CAAC;EACtF;EAEAS,mBAAmB,CAACzM,EAAO,EAAEgM,QAAa;IACtC,OAAO,IAAI,CAAC5B,IAAI,CAACM,IAAI,CAAU,GAAGR,OAAO,2BAA2BlK,EAAE,EAAE,EAAEgM,QAAQ,CAAC;EACvF;EAEAU,MAAM,CAACC,MAAW;IACd,OAAO,IAAI,CAACvC,IAAI,CAACM,IAAI,CAACR,OAAO,EAAEyC,MAAM,CAAC;EAC1C;EAEAC,MAAM,CAAC5M,EAAO,EAAE2M,MAAW;IACvB,OAAO,IAAI,CAACvC,IAAI,CAAC6B,GAAG,CAAC,GAAG/B,OAAO,IAAIlK,EAAE,EAAE,EAAE2M,MAAM,CAAC,CAC3CzG,IAAI,CAACtB,mDAAG,CAAEV,OAAY,IAAI;MACvB;MACA,IAAIA,OAAO,CAAClE,EAAE,KAAK,IAAI,CAACmE,YAAY,CAACnE,EAAE,EAAE;QACrC;QACAkE,OAAO,GAAG;UAAE,GAAG,IAAI,CAACC,YAAY;UAAE,GAAGD;QAAO,CAAE;QAC9C,IAAI,CAACmG,cAAc,CAAC5H,IAAI,CAACyB,OAAO,CAAC;;MAErC,OAAOA,OAAO;IAClB,CAAC,CAAC,CAAC;EACX;EACA2I,MAAM,CAAC7M,EAAU;IACb,OAAO,IAAI,CAACoK,IAAI,CAACyC,MAAM,CAAC,GAAG3C,OAAO,IAAIlK,EAAE,EAAE,CAAC,CACtCkG,IAAI,CAAC+D,wDAAQ,CAAC,MAAK;MAChB;MACA,IAAIjK,EAAE,KAAK,IAAI,CAACmE,YAAY,CAACnE,EAAE,EAC3B,IAAI,CAACqG,MAAM,EAAE;IACrB,CAAC,CAAC,CAAC;EACX;EAEAyG,OAAO;IACH,OAAO,IAAI,CAAC3I,YAAY,IAAI,IAAI,CAACA,YAAY,CAACE,IAAI,KAAKyF,+CAAU;EACrE;EAKQc,sBAAsB;IAC1B;IAEA;IACA,IAAIoC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,IAAI,CAAChJ,YAAY,CAACwC,QAAQ,CAACyG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAGvE;IACA;IACA,MAAMC,OAAO,GAAGJ,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,IAAI,CAAChJ,YAAY,CAACwC,QAAQ,CAACyG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAE1E;IACA;IACA,MAAME,SAAS,GAAG,IAAI,CAACnJ,YAAY,CAACwC,QAAQ,CAACyG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAG1D;IACA;IACA;IAGA;IACA,MAAMzG,QAAQ,GAAGsG,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,IAAI,CAAChJ,YAAY,CAACwC,QAAQ,CAACyG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAE3E;IACA,MAAMG,OAAO,GAAG,IAAI3E,IAAI,CAACjC,QAAQ,CAAC6G,GAAG,GAAG,IAAI,CAAC;IAC7C,MAAMC,OAAO,GAAGF,OAAO,CAAC1E,OAAO,EAAE,GAAGD,IAAI,CAAC8E,GAAG,EAAE,GAAI,EAAE,GAAG,IAAK;IAC5D,IAAI,CAACC,mBAAmB,GAAGhN,UAAU,CAAC,MAAM,IAAI,CAAC6B,YAAY,EAAE,CAACvC,SAAS,EAAE,EAAEwN,OAAO,CAAC;EACzF;EAEA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACQ5C,qBAAqB;IACzB+C,YAAY,CAAC,IAAI,CAACD,mBAAmB,CAAC;EAC1C;EAEAE,QAAQ;IACJ,OAAO,IAAI,CAACzD,IAAI,CAACqB,GAAG,CAAK,GAAGvB,OAAO,qBAAqB,CAAC;EAC7D;EAAC;qBA9NQC,cAAc;EAAA;EAAA;WAAdA,cAAc;IAAA5E,SAAd4E,cAAc;IAAA3E,YADD;EAAM;;;;;;;;;;;;;;;;;;;;ACxBW;AACH;AAEM;;AAGxC,MAAOuI,YAAY;EADzBrO;IAEY,YAAO,GAAG,IAAIoO,yCAAO,EAAS;IAC9B,cAAS,GAAG,eAAe;;EAEnC;EACA/N,OAAO,CAACC,EAAE,GAAG,IAAI,CAACgO,SAAS;IACvB,OAAO,IAAI,CAACC,OAAO,CAAC3D,YAAY,EAAE,CAACpE,IAAI,CAAC7F,sDAAM,CAACC,CAAC,IAAIA,CAAC,IAAIA,CAAC,CAACN,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC1E;EAEA;EACAkO,OAAO,CAAC/N,OAAe,EAAEgO,OAAa;IAClC,IAAI,CAACjO,KAAK,CAAC,IAAIwJ,0CAAK,CAAC;MAAE,GAAGyE,OAAO;MAAEvM,IAAI,EAAErC,sDAAiB;MAAEY;IAAO,CAAE,CAAC,CAAC;EAC3E;EAEA6C,KAAK,CAAC7C,OAAe,EAAEgO,OAAa;IAChC,IAAI,CAACjO,KAAK,CAAC,IAAIwJ,0CAAK,CAAC;MAAE,GAAGyE,OAAO;MAAEvM,IAAI,EAAErC,oDAAe;MAAEY;IAAO,CAAE,CAAC,CAAC;EACzE;EAEAiO,IAAI,CAACjO,OAAe,EAAEgO,OAAa;IAC/B,IAAI,CAACjO,KAAK,CAAC,IAAIwJ,0CAAK,CAAC;MAAE,GAAGyE,OAAO;MAAEvM,IAAI,EAAErC,mDAAc;MAAEY;IAAO,CAAE,CAAC,CAAC;EACxE;EAEAkO,IAAI,CAAClO,OAAe,EAAEgO,OAAa;IAC/B,IAAI,CAACjO,KAAK,CAAC,IAAIwJ,0CAAK,CAAC;MAAE,GAAGyE,OAAO;MAAEvM,IAAI,EAAErC,sDAAiB;MAAEY;IAAO,CAAE,CAAC,CAAC;EAC3E;EAEA;EACAD,KAAK,CAACA,KAAY;IACdA,KAAK,CAACF,EAAE,GAAGE,KAAK,CAACF,EAAE,IAAI,IAAI,CAACgO,SAAS;IACrC9N,KAAK,CAACQ,SAAS,GAAIR,KAAK,CAACQ,SAAS,KAAK4N,SAAS,GAAG,IAAI,GAAGpO,KAAK,CAACQ,SAAU;IAC1E,IAAI,CAACuN,OAAO,CAACxL,IAAI,CAACvC,KAAK,CAAC;EAC5B;EAEA;EACAc,KAAK,CAAChB,EAAE,GAAG,IAAI,CAACgO,SAAS;IACrB,IAAI,CAACC,OAAO,CAACxL,IAAI,CAAC,IAAIiH,0CAAK,CAAC;MAAE1J;IAAE,CAAE,CAAC,CAAC;EACxC;EAAC;qBApCQ+N,YAAY;EAAA;EAAA;WAAZA,YAAY;IAAAxI,SAAZwI,YAAY;IAAAvI,YADC;EAAM;;;;;;;;;;;;;;;;;;;ACNE;;;;;;;;;;;;;;;;;;;;;;;ACCqB;AACwC;AAExD;AAC8C;AAC9C;AACN;;;AAEjC,MAAMmJ,aAAa,GAAG,MAAM,oKAAkC,CAACzL,IAAI,CAAC5C,CAAC,IAAIA,CAAC,CAACsO,aAAa,CAAC;AACzF,MAAMC,WAAW,GAAG,MAAM,4JAA8B,CAAC3L,IAAI,CAAC5C,CAAC,IAAIA,CAAC,CAACwO,WAAW,CAAC;AACjF,MAAMC,aAAa,GAAG,MAAM,sUAAkC,CAAC7L,IAAI,CAAC5C,CAAC,IAAIA,CAAC,CAAC0O,aAAa,CAAC;AACzF,MAAMC,cAAc,GAAG,MAAM,gMAA4C,CAAC/L,IAAI,CAAC5C,CAAC,IAAIA,CAAC,CAAC4O,qBAAqB,CAAC;AAE5G,MAAMC,MAAM,GAAW,CACnB;EAAEtK,IAAI,EAAE,EAAE;EAAEuK,SAAS,EAAEX,gDAAa;EAAEjL,WAAW,EAAE,CAACD,+CAAS;AAAC,CAAE,EAChE;EAAEsB,IAAI,EAAE,SAAS;EAAEwK,YAAY,EAAEV;AAAa,CAAE,EAChD;EAAE9J,IAAI,EAAE,SAAS;EAAEwK,YAAY,EAAEN,aAAa;EAAEvL,WAAW,EAAE,CAACD,+CAAS;AAAC,CAAE,EAC1E;EAAEsB,IAAI,EAAE,OAAO;EAAEwK,YAAY,EAAER,WAAW;EAAErL,WAAW,EAAE,CAACD,+CAAS,CAAC;EAAEa,IAAI,EAAE;IAAEkL,KAAK,EAAE,CAACxF,+CAAU;EAAC;AAAE,CAAE,EACrG;EAAEjF,IAAI,EAAE,UAAU;EAAEwK,YAAY,EAAEJ;AAAc,CAAE,EAClD;EAAEpK,IAAI,EAAE,QAAQ;EAAEuK,SAAS,EAAEV,8FAAsBA;AAAA,CAAE,EACrD;EAAE7J,IAAI,EAAE,UAAU;EAAEuK,SAAS,EAAEZ,wGAA0BA;AAAA,CAAE;AAE3D;AACA;EAAE3J,IAAI,EAAE,IAAI;EAAE0K,UAAU,EAAE;AAAE,CAAE,CACjC;AAMK,MAAOC,gBAAgB;EAAA;qBAAhBA,gBAAgB;EAAA;EAAA;UAAhBA;EAAgB;EAAA;cAHfjB,iEAAoB,CAACY,MAAM,EAAE,EAAE,CAAC,EAChCZ,yDAAY;EAAA;;;sHAEbiB,gBAAgB;IAAAE,UAAAA,yDAAAA;IAAAC,UAFfpB,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;AC1BgB;;;;;;;;ICI9B/O,4DAAAA,YAC8B;IAAAA,oDAAAA,YAAK;IAAAA,0DAAAA,EAAI;;;;;IACvCA,4DAAAA,YAC8B;IAAAA,oDAAAA,WAAI;IAAAA,0DAAAA,EAAI;;;;;IACtCA,4DAAAA,YAC8B;IAAAA,oDAAAA,aAAM;IAAAA,0DAAAA,EAAI;;;;;IACxCA,4DAAAA,YAC8B;IAAAA,oDAAAA,iBAAU;IAAAA,0DAAAA,EAAI;;;;;;;;;;;IAZpDA,4DAAAA,aAAsE;IAGhCA,oDAAAA,WAAI;IAAAA,0DAAAA,EAAI;IACtCA,4DAAAA,WAA6E;IAAAA,oDAAAA,cAAO;IAAAA,0DAAAA,EAAI;IACxFA,wDAAAA,kDACuC;IACvCA,wDAAAA,kDACsC;IACtCA,wDAAAA,mDACwC;IACxCA,wDAAAA,mDAC4C;IAC5CA,4DAAAA,aAAqE;IAA7CA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA,OAASA,yDAAAA,gBAAQ;IAAA,EAAC;IAA2BA,oDAAAA,cAAM;IAAAA,0DAAAA,EAAI;;;;IAXnCA,uDAAAA,GAAyC;IAAzCA,wDAAAA,4BAAAA,6DAAAA,SAAyC;IAGjFA,uDAAAA,GAAiC;IAAjCA,wDAAAA,mDAAiC;IAEjCA,uDAAAA,GAAgC;IAAhCA,wDAAAA,kDAAgC;IAEhCA,uDAAAA,GAAiC;IAAjCA,wDAAAA,mDAAiC;IAEjCA,uDAAAA,GAAiC;IAAjCA,wDAAAA,mDAAiC;;;;;IAK7CA,4DAAAA,cAAyE;IACrEA,uDAAAA,eAAmE;IACvEA,0DAAAA,EAAM;;;;;;;;ADdJ,MAAOoQ,YAAY;EAKrBlQ,YAAoB2C,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAJlC,aAAQ,GAAY,KAAK;IACzB,SAAI,GAAGyH,yCAAI;IACX,YAAO,GAAY,IAAI;IAGnB,IAAI,CAACzH,cAAc,CAAC6B,OAAO,CAACjE,SAAS,CAACK,CAAC,IAAG;MACtC,IAAI,CAAC4D,OAAO,GAAG5D,CAAC;MAChB,IAAI,CAACuP,QAAQ,GAAG,IAAI;IACxB,CAAC,CAAC;EACN;EAEAxJ,MAAM;IACF,IAAI,CAAChE,cAAc,CAACgE,MAAM,EAAE;EAChC;EAAC;qBAdQuJ,YAAY;EAAA;EAAA;UAAZA,YAAY;IAAA9N;IAAAE;IAAAC;IAAAC;IAAAC;MAAA;QCNzB3C,4DAAAA,aAA+D;QAE3DA,wDAAAA,iDAeM;QACNA,wDAAAA,gDAEM;QAGNA,uDAAAA,uBAA6C;QAQjDA,0DAAAA,EAAM;;;QA/BqBA,wDAAAA,YAAAA,6DAAAA,sBAAmC;QAEHA,uDAAAA,GAAa;QAAbA,wDAAAA,qBAAa;QAgBxBA,uDAAAA,GAA2B;QAA3BA,wDAAAA,uCAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBjB;AACA;AACQ;AACS;AAE3E;AACA;AAEwD;AACsB;AACjC;AACE;AACA;AACR;AAC8C;AACtC;AACA;AACgD;AAElB;AACjB;AACL;AACE;AACQ;AACN;AACQ;AACV;AACI;AACqC;AACgB;AAE3D;;AAlBhB;AA8EjC,MAAO0R,SAAS;EAAA;qBAATA,SAAS;EAAA;EAAA;UAATA,SAAS;IAAAC,YAFNvB,wDAAY;EAAA;EAAA;eAlBb,CACP;MAAEwB,OAAO,EAAEtB,2DAAe;MAAEuB,UAAU,EAAEjP,oDAAc;MAAEkP,KAAK,EAAE,IAAI;MAAEC,IAAI,EAAE,CAACpH,qDAAc;IAAC,CAAE,EAC7F;MAAEiH,OAAO,EAAEjB,oEAAiB;MAAEqB,QAAQ,EAAE/K,oDAAc;MAAE6K,KAAK,EAAE;IAAI,CAAE,EACrE;MAAEF,OAAO,EAAEjB,oEAAiB;MAAEqB,QAAQ,EAAE1L,sDAAgB;MAAEwL,KAAK,EAAE;IAAI;IAErE;IACA;IAEA;IAEA;IACA;IAEA;IACA;IACA;IACA;IAAA,CACH;IAAA5B,UArDGU,0DAAY,EACZL,qEAAa,EACbC,wDAAW,EACXE,mEAAgB,EAChBD,gEAAmB,EACnBC,mEAAgB,EAChBV,iEAAgB,EAChBjB,0DAAY,EACZ8B,0FAAuB,EACvBC,qEAAc,EACdC,kEAAa,EACbC,oEAAc,EACdC,4EAAkB,EAClBC,sEAAe,EACfC,8EAAmB,EACnBE,wEAAmB,EACnBD,oEAAc,EACdE,6EAAkB,EAClBC,qGAA0B,EAC1BC,iGAAsB,EAGtBV,qEAAc,EACdC,kEAAa,EACbC,oEAAc,EACdC,4EAAkB,EAClBC,sEAAe;EAAA;;;uHA8BVQ,SAAS;IAAAO,eA3Bd7B,wDAAY,EACZnQ,uDAAc,EACdgP,gDAAa,EACbC,8FAAsB,EACtBF,wGAA0B,EAC1ByC,gEAAe;IAAAvB,UAlCfU,0DAAY,EACZL,qEAAa,EACbC,wDAAW,EACXE,mEAAgB,EAChBD,gEAAmB,EACnBC,mEAAgB,EAChBV,iEAAgB,EAChBjB,0DAAY,EACZ8B,0FAAuB,EACvBC,qEAAc,EACdC,kEAAa,EACbC,oEAAc,EACdC,4EAAkB,EAClBC,sEAAe,EACfC,8EAAmB,EACnBE,wEAAmB,EACnBD,oEAAc,EACdE,6EAAkB,EAClBC,qGAA0B,EAC1BC,iGAAsB;IAAArB,UAGtBW,qEAAc,EACdC,kEAAa,EACbC,oEAAc,EACdC,4EAAkB,EAClBC,sEAAe;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AC3DuB;AACjB;AAC8B;AACJ;AAGtB;;;;;;ICeDlR,uDAAAA,eAA8E;;;;;;IAHtFA,4DAAAA,YAAwD;IAEhDA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,2EAA0D;IAAA,EAAC;IACpEA,wDAAAA,0FAA8E;IAACA,oDAAAA,eACnF;IAAAA,0DAAAA,EAAS;;;;IADEA,uDAAAA,GAAgB;IAAhBA,wDAAAA,uBAAgB;;;;;IARnCA,4DAAAA,SAAmC;IAC3BA,oDAAAA,GAAY;IAAAA,0DAAAA,EAAK;IACrBA,4DAAAA,SAAI;IAAAA,oDAAAA,GAA2B;IAAAA,0DAAAA,EAAK;IACpCA,4DAAAA,SAAI;IAAAA,oDAAAA,GAAkB;IAAAA,0DAAAA,EAAK;IAC3BA,4DAAAA,SAAI;IAAAA,oDAAAA,GAAmB;IAAAA,0DAAAA,EAAK;IAC5BA,wDAAAA,gFAKK;IACTA,0DAAAA,EAAK;;;;;IAVGA,uDAAAA,GAAY;IAAZA,gEAAAA,qBAAY;IACZA,uDAAAA,GAA2B;IAA3BA,gEAAAA,2CAA2B;IAC3BA,uDAAAA,GAAkB;IAAlBA,+DAAAA,mBAAkB;IAClBA,uDAAAA,GAAmB;IAAnBA,+DAAAA,oBAAmB;IACUA,uDAAAA,GAAqB;IAArBA,wDAAAA,gCAAqB;;;;;IAN9DA,4DAAAA,YAA4B;IACxBA,wDAAAA,4EAWK;IACTA,0DAAAA,EAAQ;;;;IAZcA,uDAAAA,GAAe;IAAfA,wDAAAA,gCAAe;;;;;IAb7CA,4DAAAA,aAAoD;IAIdA,oDAAAA,YAAK;IAAAA,0DAAAA,EAAK;IAChCA,4DAAAA,YAAsB;IAAAA,oDAAAA,WAAI;IAAAA,0DAAAA,EAAK;IAC/BA,4DAAAA,YAAsB;IAAAA,oDAAAA,WAAI;IAAAA,0DAAAA,EAAK;IAC/BA,4DAAAA,aAAsB;IAAAA,oDAAAA,YAAI;IAAAA,0DAAAA,EAAK;IAC/BA,uDAAAA,aAA2B;IAE/BA,0DAAAA,EAAK;IAETA,wDAAAA,0EAaQ;IACZA,0DAAAA,EAAQ;;;;IAdIA,uDAAAA,IAAkB;IAAlBA,wDAAAA,6BAAkB;;;ADEpC,MAAOgP,0BAA0B;EAKrC9O,YAAoB2C,cAA8B,EACxCzC,YAA0B;IADhB,mBAAc,GAAdyC,cAAc;IACxB,iBAAY,GAAZzC,YAAY;IALtB,aAAQ,GAAY,KAAK;IACzB,iBAAY,GAA0B,EAAE;IACxC,oBAAe,GAAY,KAAK;IAI9B,IAAI,CAACgS,eAAe,GAAG,IAAI,CAACvP,cAAc,CAACyK,OAAO,EAAE;IAEpD,MAAM+E,UAAU,GAAG,IAAIH,oEAA4B,EAAE,CAClDK,gBAAgB,CAACL,oEAA4B,CAAC,CAC9CQ,OAAO,CAAC1L,6EAAmB,GAAG,SAAS,CAAC,CACxC2L,KAAK,EAAE;IAEVN,UAAU,CAACO,KAAK,EAAE,CAAClP,IAAI,CAAC;MACtBP,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACnC,CAAC,CAAC,CAACO,KAAK,CAAC,UAAUgD,GAAG;MACpB,OAAOxD,OAAO,CAACK,KAAK,CAACmD,GAAG,CAACpB,QAAQ,EAAE,CAAC;IACtC,CAAC,CAAC;IAEF8M,UAAU,CAACQ,EAAE,CAAC,YAAY,EAAGrS,EAAU,IAAI;MACzC,IAAI,CAACsS,yBAAyB,EAAE;IAClC,CAAC,CAAC;EAEJ;EAEAzS,QAAQ;IACN,IAAI,CAACyS,yBAAyB,EAAE;EAClC;EAEQA,yBAAyB;IAC/B,IAAI,CAACjQ,cAAc,CAACyJ,wBAAwB,EAAE,CAC3C5F,IAAI,CAACyL,2CAAK,EAAE,CAAC,CACb1R,SAAS,CAAC;MACTwC,IAAI,EAAG8P,YAAY,IAAI;QACrB,IAAI,CAACC,YAAY,GAAGD,YAAY,CAACE,oBAAoB;QAErD,IAAI,CAAC5C,QAAQ,GAAG,IAAI;MACtB,CAAC;MACD7M,KAAK,EAAEA,KAAK,IAAG;QACb,IAAI,CAACpD,YAAY,CAACoD,KAAK,CAACA,KAAK,CAAC;MAChC;KACD,CAAC;EACN;EAEA0P,mBAAmB,CAAC3R,KAAU,EAAE4R,UAAkB,EAAE5P,KAAa,EAAEsJ,YAAoB;IACrF,IAAIuG,WAAW,GAAwB,IAAI,CAACC,kBAAkB,CAACF,UAAU,CAAC;IAC1E,IAAIC,WAAW,IAAI,IAAI,EACrB,OAAO,CAAC;IACVA,WAAW,CAACE,QAAQ,GAAG,IAAI;IAC3B,IAAI,CAACzQ,cAAc,CAACkK,iBAAiB,CAACoG,UAAU,EAAE5P,KAAK,EAAEsJ,YAAY,CAAC,CACnEnG,IAAI,CAACyL,2CAAK,EAAE,CAAC,CACb1R,SAAS,CAAC;MACTwC,IAAI,EAAGsQ,mBAAmB,IAAI;QAC5BpQ,OAAO,CAACC,GAAG,CAACmQ,mBAAmB,CAAChQ,KAAK,CAAC;QACtC,IAAI,CAACV,cAAc,CAACyJ,wBAAwB,EAAE,CAC3C5F,IAAI,CAACyL,2CAAK,EAAE,CAAC,CACb1R,SAAS,CAAC;UACTwC,IAAI,EAAG8P,YAAY,IAAI;YACrB,IAAI,CAACC,YAAY,GAAGD,YAAY,CAACE,oBAAoB;YAErD,IAAI,CAAC5C,QAAQ,GAAG,IAAI;YACpB+C,WAAW,CAACE,QAAQ,GAAG,KAAK;UAC9B,CAAC;UACD9P,KAAK,EAAEA,KAAK,IAAG;YACb,IAAI,CAACpD,YAAY,CAACoD,KAAK,CAACA,KAAK,CAAC;YAC9B4P,WAAW,CAACE,QAAQ,GAAG,KAAK;UAC9B;SACD,CAAC;MAEN,CAAC;MACD9P,KAAK,EAAEA,KAAK,IAAG;QACb,IAAI,CAACpD,YAAY,CAACoD,KAAK,CAACA,KAAK,CAAC;MAChC;KACD,CAAC;EAEN;EACA6P,kBAAkB,CAACG,MAAc;IAC/B,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAACT,YAAY,CAACrN,MAAM,EAAE8N,KAAK,EAAE,EAAE;MAC7D,MAAMC,OAAO,GAAG,IAAI,CAACV,YAAY,CAACS,KAAK,CAAC;MACxC,IAAIC,OAAO,CAAClT,EAAE,KAAKgT,MAAM,EAAE;QACzB,OAAOE,OAAO;;;IAGlB,OAAO,IAAI;EACb;EACAC,cAAc,CAAC5K,IAAU;IACvB;IACA;IAEA,OAAON,0FAAuC,CAACL,mCAAM,CAACA,uCAAU,CAACW,IAAI,CAAC,CAAC,CAACiB,KAAK,EAAE,CAAChB,MAAM,EAAE,CAAC;EAC3F;EAAC;qBA3FUgG,0BAA0B;EAAA;EAAA;UAA1BA,0BAA0B;IAAA1M;IAAAE;IAAAC;IAAAC;IAAAC;MAAA;QChBvC3C,4DAAAA,aAAiB;QAETA,wDAAAA,+DA2BM;QAEVA,0DAAAA,EAAM;;;QA7BkCA,uDAAAA,GAAc;QAAdA,wDAAAA,sBAAc;;;;;;;;;;;;;;;;;;;;;;;;;ACGpD,MAAOiP,aAAa;EAGtB/O,YAAoB2C,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAFlC,YAAO,GAAG,IAAI,CAACA,cAAc,CAAC8B,YAAY;EAEY;EAAC;qBAH9CsK,aAAa;EAAA;EAAA;UAAbA,aAAa;IAAA3M;IAAAE;IAAAC;IAAAC;IAAAC;MAAA;QCL1B3C,4DAAAA,aAAiB;QAELA,oDAAAA,GAAyB;QAAAA,0DAAAA,EAAK;;;QAA9BA,uDAAAA,GAAyB;QAAzBA,gEAAAA,mCAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDU;AACQ;AACA;AACM;AACF;AACF;;AAsBnD,MAAO8Q,cAAc;EAAA;qBAAdA,cAAc;EAAA;EAAA;UAAdA;EAAc;EAAA;cAjBvBF,yDAAY,EACZM,qEAAe,EACf4C,uEAAgB,EAChBF,iEAAa,EACbC,iEAAa,EACb7C,mEAAc,EAIdE,qEAAe,EACf4C,uEAAgB,EAChBF,iEAAa,EACbC,iEAAa,EACb7C,mEAAc;EAAA;;;sHAILF,cAAc;IAAAZ,UAjBvBU,yDAAY,EACZM,qEAAe,EACf4C,uEAAgB,EAChBF,iEAAa,EACbC,iEAAa,EACb7C,mEAAc;IAAAb,UAIde,qEAAe,EACf4C,uEAAgB,EAChBF,iEAAa,EACbC,iEAAa,EACb7C,mEAAc;EAAA;AAAA;;;;;;;;;;;;;;;;;ACnBZ,MAAOS,eAAe;EAE1BsC,SAAS,CAACC,KAAY,EAAEC,QAAgB,EAAEC,KAAqB;IAC7D,IAAI,CAACC,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,IAAI,CAACC,QAAQ,EAAE;MACtC,OAAOD,KAAK;;IAGd;IACA,IAAIC,QAAQ,IAAI,MAAM,EAAE;MACtBD,KAAK,CAACK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;QAClB,MAAMC,KAAK,GAAG,IAAIpL,IAAI,CAACkL,CAAC,CAACL,QAAQ,CAAC,CAAC;QACnC,MAAMQ,KAAK,GAAG,IAAIrL,IAAI,CAACmL,CAAC,CAACN,QAAQ,CAAC,CAAC;QACnC,IAAIC,KAAK,KAAK,KAAK,EAAE;UACnB,OAAOM,KAAK,CAACnL,OAAO,EAAE,GAAGoL,KAAK,CAACpL,OAAO,EAAE;SACzC,MAAM;UACL,OAAOoL,KAAK,CAACpL,OAAO,EAAE,GAAGmL,KAAK,CAACnL,OAAO,EAAE;;MAE5C,CAAC,CAAC;MACF,OAAO2K,KAAK;KACb,MAAM,IAAIC,QAAQ,IAAI,UAAU,EAAE;MACjCD,KAAK,CAACK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;QAClB,IAAIL,KAAK,KAAK,KAAK,EAAE;UACnB,IAAII,CAAC,CAACL,QAAQ,CAAC,GAAGM,CAAC,CAACN,QAAQ,CAAC,EAAE,OAAO,CAAC;UACvC,IAAIK,CAAC,CAACL,QAAQ,CAAC,GAAGM,CAAC,CAACN,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;UACxC,OAAO,CAAC;SACT,MAAM;UACL,IAAIK,CAAC,CAACL,QAAQ,CAAC,GAAGM,CAAC,CAACN,QAAQ,CAAC,EAAE,OAAO,CAAC;UACvC,IAAIK,CAAC,CAACL,QAAQ,CAAC,GAAGM,CAAC,CAACN,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;UACxC,OAAO,CAAC;;MAEZ,CAAC,CAAC;MACF,OAAOD,KAAK;KACb,MACI;MACH,OAAOA,KAAK;;EAEhB;EAAC;qBApCUvC,eAAe;EAAA;EAAA;;UAAfA,eAAe;IAAAiD;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACJiF;AAKtE;AACgB;AACI;AAC1B;;;;;;;;ICCb1U,4DAAAA,aAAuD;IAAAA,oDAAAA,GAAoC;IAAAA,0DAAAA,EAAS;;;;;IAA7CA,uDAAAA,GAAoC;IAApCA,gEAAAA,yDAAoC;;;;;IAE/FA,4DAAAA,cAA+F;IAAAA,oDAAAA,0BAG/F;IAAAA,0DAAAA,EAAM;;;;;IAkBMA,4DAAAA,SAAoC;IAC5BA,oDAAAA,GAAkB;IAAAA,0DAAAA,EAAK;IAC3BA,4DAAAA,SAAI;IAAAA,oDAAAA,GAAmB;IAAAA,0DAAAA,EAAK;IAC5BA,4DAAAA,SAAI;IAAAA,oDAAAA,GAAuB;IAAAA,0DAAAA,EAAK;;;;IAF5BA,uDAAAA,GAAkB;IAAlBA,gEAAAA,2BAAkB;IAClBA,uDAAAA,GAAmB;IAAnBA,gEAAAA,4BAAmB;IACnBA,uDAAAA,GAAuB;IAAvBA,gEAAAA,gCAAuB;;;;;IAlB/CA,4DAAAA,eAAuE;IAE3DA,oDAAAA,GAAmB;IAAAA,0DAAAA,EAAS;IACpCA,4DAAAA,cAAmC;IAKGA,oDAAAA,WAAI;IAAAA,0DAAAA,EAAK;IAC/BA,4DAAAA,aAAsB;IAAAA,oDAAAA,YAAI;IAAAA,0DAAAA,EAAK;IAC/BA,4DAAAA,cAAsB;IAAAA,oDAAAA,YAAI;IAAAA,0DAAAA,EAAK;IAC/BA,uDAAAA,cAA2B;IAC/BA,0DAAAA,EAAK;IAETA,4DAAAA,aAAO;IACHA,wDAAAA,6EAIK;IAETA,0DAAAA,EAAQ;;;;IAnBRA,uDAAAA,GAAmB;IAAnBA,gEAAAA,4BAAmB;IAaMA,uDAAAA,IAAa;IAAbA,wDAAAA,0BAAa;;;;;;IAhC1DA,4DAAAA,aAAyD;IAGbA,oDAAAA,aAAM;IAAAA,0DAAAA,EAAQ;IAC9CA,4DAAAA,eAC0C;IADnBA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA,OAAUA,yDAAAA,gCAAwB;IAAA,EAAC;IAA1DA,0DAAAA,EAC0C;IAC1CA,4DAAAA,eAAmC;IAAAA,oDAAAA,UAAG;IAAAA,0DAAAA,EAAQ;IAAAA,uDAAAA,SAAI;IAClDA,4DAAAA,mBAAiG;IAAtCA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA,OAAiBA,yDAAAA,2BAAkB;IAAA,EAAC;IAAEA,oDAAAA,eAC7F;IAAAA,4DAAAA,kBAAiC;IAAAA,oDAAAA,mBAAW;IAAAA,0DAAAA,EAAS;IACrDA,wDAAAA,yEAAoG;IACxGA,0DAAAA,EAAS;IACTA,wDAAAA,mEAGM;IACVA,0DAAAA,EAAM;IAENA,wDAAAA,8EAwBW;;IACfA,0DAAAA,EAAO;;;;IAzCDA,uDAAAA,GAAkB;IAAlBA,wDAAAA,0BAAkB;IAQaA,uDAAAA,IAA4B;IAA5BA,wDAAAA,6CAA4B;IAEnDA,uDAAAA,GAA4D;IAA5DA,wDAAAA,8EAA4D;IAM3CA,uDAAAA,GAAyC;IAAzCA,wDAAAA,YAAAA,yDAAAA,yCAAyC;;;ADE1E,MAAOkP,sBAAsB;EAajChP,YAAoB2C,cAA8B,EACxCkS,WAAwB;IADd,mBAAc,GAAdlS,cAAc;IACxB,gBAAW,GAAXkS,WAAW;IAZrB,SAAI,GAAW,EAAE;IACjB,8BAAyB,GAAa,EAAE;IAGxC,aAAQ,GAAY,KAAK;IAEzB,kBAAa,GAAY,KAAK;IAC9B,UAAK,GAAW,EAAE;IAClB,UAAK,GAAW,EAAE;IAClB,qBAAgB,GAAwB,EAAE;EAI1C;EAEA1U,QAAQ;IACN,IAAI,CAAC2U,IAAI,GAAG,IAAI,CAACD,WAAW,CAACE,KAAK,CAAC;MACjCC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACJ,+DAAmB,EAAE,IAAI,CAACpM,aAAa,CAAC,CAAC;MACtD0M,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;KACrB,CAAC;IACF,IAAI,CAACjJ,WAAW,EAAE;EACpB;EACAkJ,gBAAgB,CAAC9T,KAAU;IACzB,IAAI,CAAC4K,WAAW,EAAE;IAClB,IAAI,CAACmJ,KAAK,GAAG,EAAE,CAAC,CAAC;EACnB;;EAEA,IAAIC,CAAC;IACH,OAAO,IAAI,CAACP,IAAI,CAACjN,QAAQ;EAC3B;EAEAyN,qBAAqB,CAAC1M,OAAe;IAEnC,KAAK,IAAI2K,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAACgC,gBAAgB,CAAC9P,MAAM,EAAE8N,KAAK,EAAE,EAAE;MACjE,MAAMgC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAAChC,KAAK,CAAC;MACrD,IAAKiC,IAAI,GAAG,IAAI,CAACC,iBAAiB,CAACF,gBAAgB,CAAC1M,IAAI,CAAC;MACzD,IAAG2M,IAAI,IAAI5M,OAAO,EAChB,OAAO2M,gBAAgB,CAAC1M,IAAI;;IAEhC,OAAO,IAAI;EACb;EAEA6M,UAAU,CAAC1S,KAAU;IACnB,IAAI,CAAC2S,YAAY,GAAG3S,KAAK;IACzB,IAAI,IAAI,CAAC4S,yBAAyB,CAACnQ,MAAM,IAAI,CAAC,EAC5C;IAEF,IAAIoQ,YAAY,GAAG,IAAI,CAACf,IAAI,CAAC/I,GAAG,CAAC,OAAO,CAAC,CAAC/I,KAAK;IAC/C,IAAI8S,yBAAyB,GAAG5N,mCAAM,CAAC2N,YAAY,EAAE,GAAG/O,oFAA0B,EAAE,CAAC;IACrF,IAAIiP,KAAK,CAAC7M,IAAI,CAACsE,KAAK,CAACsI,yBAAyB,CAACzQ,QAAQ,EAAE,oBAAmB,CAAC;MAAE;MAC7E;IAEF,IAAI,CAAC2Q,KAAK,GAAG,EAAE;IAEf,MAAMlC,KAAK,GAAG+B,YAAY,CAACnI,KAAK,CAAC,GAAG,CAAC;IAErC,IAAI7E,IAAI,GAAG,IAAI,CAACyM,qBAAqB,CAACxB,KAAK,CAAC,CAAC,CAAC,CAAC;IAC/C,IAAI,CAACnR,cAAc,CAACuJ,yBAAyB,CAACrD,IAAI,CAAC,CAChDrC,IAAI,CAACyL,qDAAK,EAAE,CAAC,CACb1R,SAAS,CAAC;MACTwC,IAAI,EAAGkT,iBAAoC,IAAI;QAC7C,IAAI,CAACb,KAAK,GAAGa,iBAAiB,CAACA,iBAAiB;QAEhD,KAAK,IAAI1C,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAAC6B,KAAK,CAAC3P,MAAM,EAAE8N,KAAK,EAAE,EAAE;UACtD,IAAI2C,IAAI,GAAW,IAAI,CAACd,KAAK,CAAC7B,KAAK,CAAC,CAACyC,KAAK;UAC1C/S,OAAO,CAACC,GAAG,CAAC,IAAI,CAACkS,KAAK,CAAC7B,KAAK,CAAC,CAAC;UAE9B,KAAK,IAAI4C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACf,KAAK,CAAC7B,KAAK,CAAC,CAACyC,KAAK,CAACvQ,MAAM,EAAE0Q,CAAC,EAAE,EAAE;YACvD,IAAI,CAACH,KAAK,CAACjV,IAAI,CAAC,IAAI,CAACqU,KAAK,CAAC7B,KAAK,CAAC,CAACyC,KAAK,CAACG,CAAC,CAAC,CAAC;;UAE7ClT,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC8S,KAAK,CAAC;;MAE3B,CAAC;MACD1S,KAAK,EAAEA,KAAK,IAAG;QACbL,OAAO,CAACC,GAAG,EAAE;MACf;KACD,CAAC;EAEN;EAEA+I,WAAW;IACT,IAAI,CAAC2J,yBAAyB,GAAG,EAAE;IACnC,IAAI,CAACQ,IAAI,GAAG,EAAE;IACd,IAAI,CAACzT,cAAc,CAACsJ,WAAW,EAAE,CAC9BzF,IAAI,CAACyL,qDAAK,EAAE,CAAC,CACb1R,SAAS,CAAC;MACTwC,IAAI,EAAGC,KAAyB,IAAI;QAClC,IAAI,CAACuS,gBAAgB,GAAGvS,KAAK,CAACqT,iBAAiB;QAE/C,KAAK,IAAI9C,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGvQ,KAAK,CAACqT,iBAAiB,CAAC5Q,MAAM,EAAE8N,KAAK,EAAE,EAAE;UACnE;UACA,IAAI,CAAC6C,IAAI,CAACrV,IAAI,CAACiC,KAAK,CAACqT,iBAAiB,CAAC9C,KAAK,CAAC,CAAC1K,IAAI,CAAC;;QAErD,IAAI,CAACuN,IAAI,CAACjC,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC;UAC3B,IAAID,CAAC,GAAGC,CAAC,EAAE,OAAO,CAAC;UACnB,IAAID,CAAC,GAAGC,CAAC,EAAE,OAAO,CAAC,CAAC;UACpB,OAAO,CAAC;QACV,CAAC,CAAC;QAEF,KAAK,IAAId,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAAC6C,IAAI,CAAC3Q,MAAM,EAAE8N,KAAK,EAAE,EAAE;UACrD,IAAI+C,WAAW,GAAGpN,IAAI,CAAC8E,GAAG,EAAE;UAC5B,MAAMuI,kBAAkB,GAAG,IAAI,CAACH,IAAI,CAAC7C,KAAK,CAAC;UAC3C,IAAIiD,iBAAiB,GAAGtO,mCAAM,CAACA,uCAAU,CAACqO,kBAAkB,CAAC,CAAC,CAACzM,KAAK,EAAE,CAAChB,MAAM,EAAE;UAC/E,IAAI2N,eAAe,GAAGD,iBAAiB,CAACrN,OAAO,EAAE;UAEjD,IAAI,IAAI,CAACkM,CAAC,CAAC,UAAU,CAAC,CAACrS,KAAK,IAAIyT,eAAe,GAAGH,WAAW,EAAE;YAC7D,IAAI,CAACV,yBAAyB,CAAC7U,IAAI,CAAC,IAAI,CAAC0U,iBAAiB,CAACc,kBAAkB,CAAC,CAAC;;;QAInF,IAAI,CAACpG,QAAQ,GAAG,IAAI;MACtB,CAAC;MACD7M,KAAK,EAAEA,KAAK,IAAG;QACbL,OAAO,CAACC,GAAG,EAAE;MACf;KACD,CAAC;EAEN;EACAwT,iBAAiB,CAAC9N,OAAe;IAC/B,IAAI+N,IAAI,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;IACzF,IAAI9N,IAAI,GAAGN,8EAA2B,CAACK,OAAO,CAAC;IAC/C,OAAO+N,IAAI,CAAC9N,IAAI,CAAC+N,MAAM,EAAE,CAAC;EAC5B;EACAnB,iBAAiB,CAAC5M,IAAU;IAC1B,OAAON,0FAAuC,CAACL,mCAAM,CAACA,uCAAU,CAACW,IAAI,CAAC,CAAC,CAACiB,KAAK,EAAE,CAAChB,MAAM,EAAE,CAAC;EAC3F;EAEAN,aAAa,CAACZ,OAAoB;IAChC,IAAIiP,IAAI,GAAGjP,OAAO,CAAC5E,KAAK,CAAC8T,KAAK,CAAC,KAAK,CAAC;IACrC,IAAI,CAACD,IAAI,EAAE;MACT,OAAO;QAAEE,WAAW,EAAE;MAAI,CAAE;;IAE9B,OAAO,IAAI;EACb;EAAC;qBAvIU/H,sBAAsB;EAAA;EAAA;UAAtBA,sBAAsB;IAAA5M;IAAAE;IAAAC;IAAAC;IAAAC;MAAA;QCpBnC3C,4DAAAA,aAAiB;QACbA,wDAAAA,2DA2CM;QACVA,0DAAAA,EAAM;;;QA5CsBA,uDAAAA,GAA+B;QAA/BA,wDAAAA,uCAA+B;;;;;;;;;;;;;;;;;;;;;ACD3D;AACA;AACA;AAEO,MAAMgH,WAAW,GAAG;EACzBkQ,UAAU,EAAE,KAAK;EACjB5O,cAAc,EAAE,kBAAkB;EAClCD,UAAU,EAAE,YAAY;EACxBG,mBAAmB,EAAE,gBAAgB;EAGrC;EACA;EACA;EACA;EACAlB,MAAM,EAAE,2BAA2B;EAEnC;EACA;EACA;EACAoD,OAAO,EAAE;CACV;AAED;;;;;;;AAOA;;;;;;;;;;;;;;;;;AC7B+C;AAGF;AACY;AAEzD,IAAI1D,6EAAsB,EAAE;EAC1BmQ,6DAAc,EAAE;;AAGlBC,sEAAAA,EAAwB,CAACC,eAAe,CAAC3F,sDAAS,CAAC,CAChD/N,KAAK,CAACgD,GAAG,IAAIxD,OAAO,CAACK,KAAK,CAACmD,GAAG,CAAC,CAAC;;;;;;;;;;ACZnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/_components/alert.component.ts","./src/app/_components/alert.component.html","./src/app/_helpers/app.initializer.ts","./src/app/_helpers/auth.guard.ts","./src/app/_helpers/error.interceptor.ts","./src/app/_helpers/index.ts","./src/app/_helpers/jwt.interceptor.ts","./src/app/_helpers/must-match.validator.ts","./src/app/_helpers/time.handler.ts","./src/app/_models/account.ts","./src/app/_models/alert.ts","./src/app/_models/index.ts","./src/app/_models/role.ts","./src/app/_services/account.service.ts","./src/app/_services/alert.service.ts","./src/app/_services/index.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/floating-schedules/floating-schedules.component.ts","./src/app/floating-schedules/floating-schedules.component.html","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/material/material.module.ts","./src/app/order-by-date.pipe.ts","./src/app/raport-for-date/raport-for-date.component.ts","./src/app/raport-for-date/raport-for-date.component.html","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { Router, NavigationStart } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { Alert, AlertType } from '../_models';\r\nimport { AlertService } from '../_services';\r\n\r\n//import { Alert, AlertType } from '@app/_models';\r\n//import { AlertService } from '@app/_services';\r\n\r\n@Component({ selector: 'alert', templateUrl: 'alert.component.html' })\r\nexport class AlertComponent implements OnInit, OnDestroy {\r\n    @Input() id = 'default-alert';\r\n    @Input() fade = true;\r\n\r\n    alerts: Alert[] = [];\r\n    alertSubscription: Subscription;\r\n    routeSubscription: Subscription;\r\n\r\n    constructor(private router: Router, private alertService: AlertService) { }\r\n\r\n    ngOnInit() {\r\n        // subscribe to new alert notifications\r\n        this.alertSubscription = this.alertService.onAlert(this.id)\r\n            .subscribe(alert => {\r\n                // clear alerts when an empty alert is received\r\n                if (!alert.message) {\r\n                    // filter out alerts without 'keepAfterRouteChange' flag\r\n                    this.alerts = this.alerts.filter(x => x.keepAfterRouteChange);\r\n\r\n                    // remove 'keepAfterRouteChange' flag on the rest\r\n                    this.alerts.forEach(x => delete x.keepAfterRouteChange);\r\n                    return;\r\n                }\r\n\r\n                // add alert to array\r\n                this.alerts.push(alert);\r\n\r\n                // auto close alert if required\r\n                if (alert.autoClose) {\r\n                    setTimeout(() => this.removeAlert(alert), 3000);\r\n                }\r\n           });\r\n\r\n        // clear alerts on location change\r\n        this.routeSubscription = this.router.events.subscribe(event => {\r\n            if (event instanceof NavigationStart) {\r\n                this.alertService.clear(this.id);\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        // unsubscribe to avoid memory leaks\r\n        this.alertSubscription.unsubscribe();\r\n        this.routeSubscription.unsubscribe();\r\n    }\r\n\r\n    removeAlert(alert: Alert) {\r\n        // check if already removed to prevent error on auto close\r\n        if (!this.alerts.includes(alert)) return;\r\n\r\n        if (this.fade) {\r\n            // fade out alert\r\n            alert.fade = true;\r\n\r\n            // remove alert after faded out\r\n            setTimeout(() => {\r\n                this.alerts = this.alerts.filter(x => x !== alert);\r\n            }, 250);\r\n        } else {\r\n            // remove alert\r\n            this.alerts = this.alerts.filter(x => x !== alert);\r\n        }\r\n    }\r\n\r\n    cssClasses(alert: Alert) {\r\n        if (!alert)\r\n        {\r\n            return null;\r\n        } \r\n\r\n        const classes = ['alert', 'alert-dismissable'];\r\n                \r\n        const alertTypeClass = {\r\n            [AlertType.Success]: 'alert alert-success',\r\n            [AlertType.Error]: 'alert alert-danger',\r\n            [AlertType.Info]: 'alert alert-info',\r\n            [AlertType.Warning]: 'alert alert-warning'\r\n        }\r\n\r\n        classes.push(alertTypeClass[alert.type]);\r\n\r\n        if (alert.fade) {\r\n            classes.push('fade');\r\n        }\r\n\r\n        return classes.join(' ');\r\n    }\r\n}","<div *ngIf=\"alerts.length\" class=\"container\">\r\n    <div class=\"m-3\">\r\n        <div *ngFor=\"let alert of alerts\" class=\"{{cssClasses(alert)}}\">\r\n            <a class=\"close\" (click)=\"removeAlert(alert)\">&times;</a>\r\n            <span [innerHTML]=\"alert.message\"></span>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { TeardownLogic } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AccountService } from '../_services';\r\n\r\nexport function appInitializer(accountService: AccountService) {\r\n  return () => new Promise((resolve: any) => {\r\n    // attempt to refresh token on app start up to auto authenticate\r\n    //alert(\"Failed refreshing\");\r\n    accountService.refreshToken()\r\n      .subscribe({\r\n        next: (value: any) => {\r\n          console.log(\"appInitializer successful: \" + value.firstName, value.lastName, value.email);\r\n        },\r\n        error: (error: string) => {\r\n          \r\n          console.log(\"Error in appInitializer\");\r\n        }\r\n      })\r\n      .add(resolve);\r\n  }).then((message) => {\r\n    console.log(\"appInitializer in then\");\r\n  }).catch((message) => {\r\n    console.log(\"Error in appInitializer in catch\");\r\n  });\r\n}\r\n\r\n/* export function appInitializer(accountService: AccountService) {\r\n      // attempt to refresh token on app start up to auto authenticate\r\n      return () => accountService.refreshToken();\r\n} */","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, ActivatedRoute } from '@angular/router';\r\n\r\nimport { AccountService } from '../_services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n    constructor(\r\n        private router: Router,\r\n        private accountService: AccountService\r\n    ) { }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot ) {\r\n        console.log(\"Parent Path in AuthGuard: \" + route.parent.url);\r\n        console.log(\"Configured Path in AuthGuard: \" + this.getConfiguredUrl(route));\r\n        console.log(\"Resolved Path in AuthGuard: \" + this.getResolvedUrl(route));\r\n        console.log(\"URL from Window Location: \" + window.location.href);\r\n        const account = this.accountService.accountValue;\r\n        if (account) {\r\n            // check if route is restricted by role\r\n            if (route.data['roles'] && !route.data['roles'].includes(account.role)) {\r\n                // role not authorized so redirect to home page\r\n                this.router.navigate(['/']);\r\n                console.log(\"Going to home page\");\r\n                return false;\r\n            }\r\n\r\n            // authorized so return true\r\n            console.log(\"Authorized - Going to path: \" + this.getResolvedUrl(route));\r\n            return true;\r\n        }\r\n\r\n        console.log(\"not logged in so redirect to login page \");\r\n        // not logged in so redirect to login page with the return url \r\n        this.router.navigate(['/account/login'], { queryParams: { returnUrl: state.url } });\r\n        return false;\r\n    }\r\n    getConfiguredUrl(route: ActivatedRouteSnapshot): string {\r\n        return '/' + route.pathFromRoot\r\n            .filter(v => v.routeConfig)\r\n            .map(v => v.routeConfig!.path)\r\n            .join('/');\r\n    }\r\n    getResolvedUrl(route: ActivatedRouteSnapshot): string {\r\n        let url = route.pathFromRoot.map((v) => v.url.map((segment) => segment.toString()).join('/')).join('/');\r\n        const queryParam = route.queryParamMap;\r\n        if (queryParam.keys.length > 0) {\r\n            url += '?' + queryParam.keys.map(key => queryParam.getAll(key).map(value => key + '=' + value).join('&')).join('&');\r\n        }\r\n        return url;\r\n    }\r\n    getResolvedUrlFromChildren(route: ActivatedRouteSnapshot): string {\r\n        let url = route.pathFromRoot.map((v) => v.url.map((segment) => segment.toString()).join('/')).join('/');\r\n        const queryParam = route.queryParamMap;\r\n        if (queryParam.keys.length > 0) {\r\n            url += '?' + queryParam.keys.map(key => queryParam.getAll(key).map(value => key + '=' + value).join('&')).join('&');\r\n        }\r\n        return url;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AccountService } from '../_services';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private accountService: AccountService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if ([401, 403].includes(err.status) && this.accountService.accountValue) {\r\n                // auto logout if 401 or 403 response returned from api\r\n                this.accountService.logout();\r\n            }\r\n\r\n            const erro = (err && err.error && err.error.message) || err.statusText;\r\n            console.error(\"ErrorInterceptor: \" + erro);\r\n            return throwError(() => erro);\r\n        }))\r\n    }\r\n}","export * from './app.initializer';\r\nexport * from './auth.guard';\r\nexport * from './error.interceptor';\r\nexport * from './jwt.interceptor';\r\nexport * from './must-match.validator';","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\nimport { AccountService } from '../_services';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n    constructor(private accountService: AccountService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // add auth header with jwt if account is logged in and request is to the api url\r\n        const account = this.accountService.accountValue;\r\n        const isLoggedIn = account && account.jwtToken;\r\n        const isApiUrl = request.url.startsWith(environment.apiUrl);\r\n        if (isLoggedIn && isApiUrl) {\r\n            request = request.clone({\r\n                setHeaders: { Authorization: `Bearer ${account.jwtToken}` }\r\n            });\r\n        }\r\n\r\n        return next.handle(request);\r\n    }\r\n}","import { FormGroup } from '@angular/forms';\r\n\r\n// custom validator to check that two fields match\r\nexport function MustMatch(controlName: string, matchingControlName: string) {\r\n    return (formGroup: FormGroup) => {\r\n        const control = formGroup.controls[controlName];\r\n        const matchingControl = formGroup.controls[matchingControlName];\r\n\r\n        if (matchingControl.errors && !matchingControl.errors['mustMatch']) {\r\n            // return if another validator has already found an error on the matchingControl\r\n            return;\r\n        }\r\n\r\n        // set error on matchingControl if validation fails\r\n        if (control.value !== matchingControl.value) {\r\n            matchingControl.setErrors({ mustMatch: true });\r\n        } else {\r\n            matchingControl.setErrors(null);\r\n        }\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\nimport { AccountService } from '../_services';\r\nimport { environment } from 'src/environments/environment';\r\nimport * as moment from 'moment';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nconst dateFormat = `${environment.dateTimeFormat}`;\r\nconst shortDateFormat = `${environment.shortDateTimeFormat}`;\r\n\r\n@Injectable()\r\nexport class TimeHandler {\r\n    constructor() { }\r\n    static dateValidator(AC: AbstractControl) {\r\n        if (AC && AC.value && !moment(AC.value, `${environment.dateFormat}`, true).isValid()) {\r\n            return { 'dateVaidator': true };\r\n        }\r\n        return null;\r\n    }\r\n    static displayStr2LocalIsoString(dateStr: string): string {\r\n        var date = moment(dateStr, dateFormat).toDate();\r\n        var zoneOffset = date.getTimezoneOffset();\r\n        var localISOTime = new Date(date.getTime() - zoneOffset * 60 * 1000).toISOString(); // Local time in ISO format\r\n        return localISOTime.replace(\"Z\", \"\");\r\n    }\r\n    static displayStr2Date(dateStr: string): Date {\r\n        var date = moment(dateStr, dateFormat).toDate();\r\n        var zoneOffset = date.getTimezoneOffset();\r\n        return new Date(date.getTime() - zoneOffset * 60 * 1000); // Local time in ISO format\r\n    }\r\n    static localDateStr2LocalDate(dateStr: string): Date {\r\n        var date = moment(dateStr, dateFormat).toDate();\r\n        var zoneOffset = date.getTimezoneOffset();\r\n        return new Date(date.getTime() + zoneOffset * 60 * 1000); // Local time in ISO format\r\n    }\r\n    static getDateDisplayStrFromFormat(date: Date): string {\r\n        return moment(date).format(dateFormat);\r\n    }\r\n    static getDateDisplayStrFromShortFormat(date: Date): string {\r\n        return moment(date).format(shortDateFormat);\r\n    }\r\n    static getDatetimeLocaleFromDisplayDate(date: Date): string {\r\n        return TimeHandler.displayStr2LocalIsoString(TimeHandler.getDateDisplayStrFromFormat(date));\r\n    }\r\n\r\n    static convertServerDate2Local(date: Date): Date {\r\n        return moment(moment.utc(date)).local().toDate();\r\n    }\r\n}","import { Role } from './role';\r\nimport { Schedule } from './schedule';\r\nimport { UserFunction } from './userfunction';\r\n\r\nexport class Account {\r\n    id: string;\r\n    title: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    role: Role;\r\n    schedules: Schedule[] = [];\r\n    userFunctions: UserFunction[] = [];\r\n    jwtToken?: string;\r\n    date: Date;\r\n    dob: Date;\r\n    availability: boolean;\r\n    password: string;\r\n    confirmPassword : string\r\n    isVerified : boolean\r\n    isDeleting : boolean\r\n}","export class Alert {\r\n    id: string = \"\";\r\n    type: AlertType = 0;\r\n    message: string = \"\";\r\n    autoClose: boolean = false;\r\n    keepAfterRouteChange?: boolean = false;\r\n    fade: boolean = false;\r\n\r\n    constructor(init?:Partial<Alert>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport enum AlertType {\r\n    Success,\r\n    Error,\r\n    Info,\r\n    Warning\r\n}","export * from './account';\r\nexport * from './alert';\r\nexport * from './role';\r\n","export enum Role {\r\n    User = 'User',\r\n    Admin = 'Admin',\r\n    \r\n}","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map, finalize, tap } from 'rxjs/operators';\r\n\r\n//import { environment } from '@environments/environment';\r\nimport { Account, Role } from '../_models';\r\n//import { JwtHelperService } from '@auth0/angular-jwt';\r\n\r\nimport { ScheduleDateTime } from '../_models/scheduledatetime';\r\nimport { ScheduleDateTimes } from '../_models/scheduledatetimes';\r\nimport { Users } from '../_models/users';\r\nimport { Team } from '../_models/team';\r\nimport { DateFunctionTeams } from '../_models/teams';\r\nimport { SchedulePoolElements } from '../_models/schedulepoolelements';\r\nimport { environment } from 'src/environments/environment';\r\nimport { UserFunction } from '../_models/userfunction';\r\nimport { SchedulePoolElement } from '../_models/schedulepoolelement';\r\nimport { Schedule } from '../_models/schedule';\r\nimport * as moment from 'moment';\r\n\r\n\r\nconst baseUrl = `${environment.apiUrl}/accounts`;\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AccountService {\r\n    private accountSubject: BehaviorSubject<Account>;\r\n    public account: Observable<Account>;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private http: HttpClient\r\n    ) {\r\n        this.accountSubject = new BehaviorSubject<Account>(null);\r\n        this.account = this.accountSubject.asObservable();\r\n    }\r\n\r\n    public get accountValue(): Account {\r\n        return this.accountSubject.value;\r\n    }\r\n\r\n    login(email: string, password: string, dob: string) {\r\n        return this.http.post<Account>(`${baseUrl}/authenticate`, { email, password, dob }, { withCredentials: true })\r\n            .pipe(map(account => {\r\n                //const body = account.body;\r\n                this.accountSubject.next(account);\r\n                this.startRefreshTokenTimer();\r\n                return account;\r\n            }));\r\n    }\r\n\r\n    /* An alternate way*/\r\n/*     login(email: string, password: string, dob: string) {\r\n        return this.http.post<Account>(`${baseUrl}/authenticate`, { email, password, dob }, { withCredentials: true })\r\n            .pipe(tap(account => {\r\n                this.accountSubject.next(account);\r\n                this.startRefreshTokenTimer();\r\n                return account;\r\n            }))\r\n    }\r\n */\r\n    logout() {\r\n        this.http.post<any>(`${baseUrl}/revoke-token`, {}, { withCredentials: true }).subscribe();\r\n        this.stopRefreshTokenTimer();\r\n        this.accountSubject.next(null);\r\n        this.router.navigate(['/account/login']);\r\n    }\r\n\r\n    refreshToken() {\r\n        return this.http.post<any>(`${baseUrl}/refresh-token`, {/* headers: headers */ }, { withCredentials: true })\r\n            .pipe(map((account) => {\r\n                this.accountSubject.next(account);\r\n                const cookie = document.cookie;\r\n                this.startRefreshTokenTimer();\r\n                return account;\r\n            }));\r\n    }\r\n\r\n    register(account: Account) {\r\n        return this.http.post(`${baseUrl}/register`, account);\r\n    }\r\n\r\n    verifyEmail(token: string, dob : string ) {\r\n        return this.http.post(`${baseUrl}/verify-email`, { token, dob });\r\n    }\r\n\r\n    forgotPassword(email: string, dob : Date) {\r\n        console.log(\"forgotPassword called\");\r\n        return this.http.post(`${baseUrl}/forgot-password`, { email, dob });\r\n    }\r\n\r\n    validateResetToken(token: string, dob : string) {\r\n        console.log(\"validateResetToken called\");\r\n        return this.http.post(`${baseUrl}/validate-reset-token`, { token, dob });\r\n    }\r\n\r\n    resetPassword(token: string, password: string, confirmPassword: string) {\r\n        console.log(\"resetPassword called\");\r\n        const headers= new HttpHeaders()\r\n            .set('Referrer-Policy', 'no-referrer');\r\n        return this.http.post(`${baseUrl}/reset-password`, { token, password, confirmPassword }, {'headers' : headers});\r\n    }\r\n\r\n    getAll() {\r\n        return this.http.get<Account[]>(baseUrl);\r\n    }\r\n\r\n    getById(id: string) {\r\n        return this.http.get<Account>(`${baseUrl}/${id}`);\r\n    }\r\n\r\n    getAllDates() {\r\n        return this.http.get<ScheduleDateTimes>(`${baseUrl}/all-dates`);\r\n    }\r\n    GetTeamsByFunctionForDate(dateStr: any) {\r\n        return this.http.get<DateFunctionTeams>(`${baseUrl}/teams-for-date/${dateStr}`);\r\n    }\r\n\r\n    getAvailableSchedules(id: any) {\r\n        return this.http.get<SchedulePoolElements>(`${baseUrl}/available_schedules/${id}`);\r\n    }\r\n    getAllAvailableSchedules() {\r\n        return this.http.get<SchedulePoolElements>(`${baseUrl}/all-available_schedules`);\r\n    }\r\n    addSchedule(id: any, schedule: any) {\r\n        return this.http.put<Account>(`${baseUrl}/add-schedule/${id}`, schedule);\r\n    }\r\n    updateSchedule(id: any, schedule: Schedule) {\r\n        return this.http.post(`${baseUrl}/update-schedule/${id}`, schedule)\r\n            .pipe(map((account: any) => {\r\n                // update the current account if it was updated\r\n                if (account.id === this.accountValue.id) {\r\n                    // publish updated account to subscribers\r\n                    account = { ...this.accountValue, ...account };\r\n                    this.accountSubject.next(account);\r\n                }\r\n                return account;\r\n            }));\r\n    }\r\n\r\n    deleteSchedule(id: any, schedule: any) {\r\n        return this.http.post<Account>(`${baseUrl}/delete-schedule/${id}`, schedule);\r\n    }\r\n\r\n    addFunction(id: any, userFunction: any) {\r\n        return this.http.put<Account>(`${baseUrl}/add-function/${id}`, userFunction);\r\n    }\r\n\r\n    deleteFunction(id: any, userFunction: any) {\r\n        return this.http.post<Account>(`${baseUrl}/delete-function/${id}`, userFunction);\r\n    }\r\n\r\n    deletePoolElement(id: string, email: string, userFunction: string) {\r\n        return this.http.post<SchedulePoolElement>(`${baseUrl}/remove-pool-element/${id}/${email}/${userFunction}`, \"\");\r\n    }\r\n\r\n    MoveSchedule2Pool(id: any, schedule: any) {\r\n        return this.http.post<Account>(`${baseUrl}/move-schedule-to-pool/${id}`, schedule);\r\n    }\r\n\r\n    GetScheduleFromPool(id: any, schedule: any) {\r\n        return this.http.post<Account>(`${baseUrl}/get-schedule-from-pool/${id}`, schedule);\r\n    }\r\n\r\n    create(params: any) {\r\n        return this.http.post(baseUrl, params);\r\n    }\r\n\r\n    update(id: any, params: any) {\r\n        return this.http.put(`${baseUrl}/${id}`, params)\r\n            .pipe(map((account: any) => {\r\n                // update the current account if it was updated\r\n                if (account.id === this.accountValue.id) {\r\n                    // publish updated account to subscribers\r\n                    account = { ...this.accountValue, ...account };\r\n                    this.accountSubject.next(account);\r\n                }\r\n                return account;\r\n            }));\r\n    }\r\n    delete(id: string) {\r\n        return this.http.delete(`${baseUrl}/${id}`)\r\n            .pipe(finalize(() => {\r\n                // auto logout if the logged in account was deleted\r\n                if (id === this.accountValue.id)\r\n                    this.logout();\r\n            }));\r\n    }\r\n\r\n    isAdmin() {\r\n        return this.accountValue && this.accountValue.role === Role.Admin;\r\n    }\r\n    // helper methods\r\n\r\n    private refreshTokenTimeout: string | number | NodeJS.Timeout | undefined;\r\n\r\n    private startRefreshTokenTimer() {\r\n        // HEADER:ALGORITHM & TOKEN TYPE\r\n\r\n        // parse json object from base64 encoded jwt token\r\n        var header = JSON.parse(atob(this.accountValue.jwtToken.split('.')[0]));\r\n\r\n\r\n        // PAYLOAD:DATA\r\n        // parse json object from base64 encoded jwt token\r\n        const payload = JSON.parse(atob(this.accountValue.jwtToken.split('.')[1]));\r\n\r\n        // VERIFY SIGNATURE\r\n        // parse json object from base64 encoded jwt token\r\n        const signature = this.accountValue.jwtToken.split('.')[2];\r\n\r\n\r\n        // VERIFY SIGNATURE\r\n        // parse json object from base64 encoded jwt token\r\n        //const jwtSignature = JSON.parse(atob(this.accountValue.jwtToken.split('.')[2]));\r\n\r\n\r\n        // parse json object from base64 encoded jwt token\r\n        const jwtToken = JSON.parse(atob(this.accountValue.jwtToken.split('.')[1]));\r\n\r\n        // set a timeout to refresh the token a minute before it expires\r\n        const expires = new Date(jwtToken.exp * 1000);\r\n        const timeout = expires.getTime() - Date.now() - (60 * 1000);\r\n        this.refreshTokenTimeout = setTimeout(() => this.refreshToken().subscribe(), timeout);\r\n    }\r\n\r\n    // private string hmacSha256(string data, string secret) {\r\n    //     try {\r\n\r\n    //         byte[] hash = secret.getBytes(StandardCharsets.UTF_8);\r\n    //         Mac sha256Hmac = Mac.getInstance(\"HmacSHA256\");\r\n    //         SecretKeySpec secretKey = new SecretKeySpec(hash, \"HmacSHA256\");\r\n    //         sha256Hmac.init(secretKey);\r\n\r\n    //         byte[] signedBytes = sha256Hmac.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n    //         return encode(signedBytes);\r\n    //     } catch (NoSuchAlgorithmException | InvalidKeyException ex) {\r\n    //         Logger.getLogger(JWebToken.class.getName()).log(Level.SEVERE, ex.getMessage(), ex);\r\n    //         return null;\r\n    //     }\r\n    // }\r\n    private stopRefreshTokenTimer() {\r\n        clearTimeout(this.refreshTokenTimeout);\r\n    }\r\n\r\n    getRoles() {\r\n        return this.http.get<[]>(`${baseUrl}/role-configuration`);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nimport { Alert, AlertType } from '../_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AlertService {\r\n    private subject = new Subject<Alert>();\r\n    private defaultId = 'default-alert';\r\n\r\n    // enable subscribing to alerts observable\r\n    onAlert(id = this.defaultId): Observable<Alert> {\r\n        return this.subject.asObservable().pipe(filter(x => x && x.id === id));\r\n    }\r\n\r\n    // convenience methods\r\n    success(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Success, message }));\r\n    }\r\n\r\n    error(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Error, message }));\r\n    }\r\n\r\n    info(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Info, message }));\r\n    }\r\n\r\n    warn(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Warning, message }));\r\n    }\r\n\r\n    // core alert method\r\n    alert(alert: Alert) {\r\n        alert.id = alert.id || this.defaultId;\r\n        alert.autoClose = (alert.autoClose === undefined ? true : alert.autoClose);\r\n        this.subject.next(alert);\r\n    }\r\n\r\n    // clear alerts\r\n    clear(id = this.defaultId) {\r\n        this.subject.next(new Alert({ id }));\r\n    }\r\n}","export * from './account.service';\r\nexport * from './alert.service';","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FloatingSchedulesComponent } from './floating-schedules/floating-schedules.component';\r\n\r\nimport { HomeComponent } from './home';\r\nimport { RaportForDateComponent } from './raport-for-date/raport-for-date.component';\r\nimport { AuthGuard } from './_helpers';\r\nimport { Role } from './_models';\r\n\r\nconst accountModule = () => import('./account/account.module').then(x => x.AccountModule);\r\nconst adminModule = () => import('./admin/admin.module').then(x => x.AdminModule);\r\nconst profileModule = () => import('./profile/profile.module').then(x => x.ProfileModule);\r\nconst scheduleModule = () => import('./schedule/schedule-routing.module').then(x => x.ScheduleRoutingModule);\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: HomeComponent, canActivate: [AuthGuard] },\r\n    { path: 'account', loadChildren: accountModule },\r\n    { path: 'profile', loadChildren: profileModule, canActivate: [AuthGuard] },\r\n    { path: 'admin', loadChildren: adminModule, canActivate: [AuthGuard], data: { roles: [Role.Admin] } },\r\n    { path: 'schedule', loadChildren: scheduleModule },\r\n    { path: 'report', component: RaportForDateComponent },\r\n    { path: 'floating', component: FloatingSchedulesComponent },\r\n\r\n    // otherwise redirect to home\r\n    { path: '**', redirectTo: '' }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes, {})],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\nimport { AccountService } from './_services';\r\nimport { Account, Role } from './_models';\r\n\r\n@Component({ selector: 'app', templateUrl: 'app.component.html' })\r\nexport class AppComponent {\r\n    isLoaded: boolean = false;\r\n    Role = Role;\r\n    account: Account = null;\r\n\r\n    constructor(private accountService: AccountService) {\r\n        this.accountService.account.subscribe(x => {\r\n            this.account = x\r\n            this.isLoaded = true;\r\n        });\r\n    }\r\n\r\n    logout() {\r\n        this.accountService.logout();\r\n    }\r\n}","<div class=\"app-container\" [ngClass]=\"{ 'bg-light': account }\">\r\n    <!-- main nav -->\r\n    <nav class=\"navbar navbar-expand navbar-dark bg-dark\" *ngIf=\"account\">\r\n        <div class=\"navbar-nav\">\r\n            <a routerLink=\"/\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact: true}\"\r\n                class=\"nav-item nav-link\">Home</a>\r\n            <a routerLink=\"/profile\" routerLinkActive=\"active\" class=\"nav-item nav-link\">Profile</a>\r\n            <a *ngIf=\"account.role === Role.Admin\" routerLink=\"/admin\" routerLinkActive=\"active\"\r\n                class=\"nav-item nav-link\">Admin</a>\r\n            <a *ngIf=\"account.role === Role.User\" routerLink=\"/schedule\" routerLinkActive=\"active\"\r\n                class=\"nav-item nav-link\">User</a>\r\n            <a *ngIf=\"account.role === Role.Admin\" routerLink=\"/report\" routerLinkActive=\"active\"\r\n                class=\"nav-item nav-link\">Report</a>\r\n            <a *ngIf=\"account.role === Role.Admin\" routerLink=\"/floating\" routerLinkActive=\"active\"\r\n                class=\"nav-item nav-link\">Unattended</a>\r\n            <a routerLink=\"/logout\" (click)=\"logout()\" class=\"nav-item nav-link\">Logout</a>\r\n        </div>\r\n    </nav>\r\n    <div class=\"d-flex justify-content-center\" *ngIf=\"!account && !isLoaded\">\r\n        <span class=\"spinner-border spinner-border-lg align-center\"></span>\r\n    </div>\r\n\r\n    <!-- subnav router outlet -->\r\n    <router-outlet name=\"subnav\"></router-outlet>\r\n    <!--router-outlet name=\"schedule-nav\"></router-outlet-->\r\n\r\n    <!-- global alert -->\r\n    <alert></alert>\r\n\r\n    <!-- main router outlet -->\r\n    <router-outlet></router-outlet>\r\n</div>","import { NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\n\r\n// used to create fake backend\r\n//import { fakeBackendProvider } from './_helpers';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { JwtInterceptor, ErrorInterceptor, appInitializer } from './_helpers';\r\nimport { AccountService } from './_services';\r\nimport { AppComponent } from './app.component';\r\nimport { AlertComponent } from './_components';\r\nimport { HomeComponent } from './home';;\r\nimport { RaportForDateComponent } from './raport-for-date/raport-for-date.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FloatingSchedulesComponent } from './floating-schedules/floating-schedules.component';\r\n\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport { MaterialModule } from './material/material.module';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatFormFieldModule, MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material/form-field';\r\nimport { NgxMatDatetimePickerModule, NgxMatNativeDateModule } from '@angular-material-components/datetime-picker';\r\n\r\nimport { OrderByDatePipe } from './order-by-date.pipe';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        BrowserModule,\r\n        FormsModule,\r\n        HttpClientModule,\r\n        ReactiveFormsModule,\r\n        HttpClientModule,\r\n        AppRoutingModule,\r\n        RouterModule,\r\n        BrowserAnimationsModule,\r\n        MaterialModule,\r\n        MatSortModule,\r\n        MatTableModule,\r\n        MatPaginatorModule,\r\n        MatButtonModule,\r\n        MatDatepickerModule,\r\n        MatNativeDateModule,\r\n        MatInputModule,\r\n        MatFormFieldModule,\r\n        NgxMatDatetimePickerModule,\r\n        NgxMatNativeDateModule \r\n    ],\r\n    exports: [\r\n        MaterialModule,\r\n        MatSortModule,\r\n        MatTableModule,\r\n        MatPaginatorModule,\r\n        MatButtonModule,\r\n    ],\r\n    declarations: [\r\n        AppComponent,\r\n        AlertComponent,\r\n        HomeComponent,\r\n        RaportForDateComponent,\r\n        FloatingSchedulesComponent,\r\n        OrderByDatePipe,\r\n    ],\r\n    providers: [\r\n        { provide: APP_INITIALIZER, useFactory: appInitializer, multi: true, deps: [AccountService] },\r\n        { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\r\n        { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n        \r\n        //{provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: {appearance: 'outline'}} ,   \r\n        //{provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: {floatLabel: 'always'}}    \r\n        \r\n        // provider used to create fake backend\r\n        \r\n        //fakeBackendProvider\r\n        // ng build --configuration production  --aot --base-href=\"/scheduler/\"\r\n\r\n        // keytool -delete -alias tomcat -keystore localhost-rsa.jks\r\n        // keytool -list -keystore localhost-rsa.jks\r\n        // keytool -genkeypair -alias tomcat -keyalg RSA -keysize 4096 -validity 720 -keystore localhost-rsa.jks -storepass changeit -keypass changeit -ext SAN=dns:rejkid.hopto.org,ip:49.187.112.232\r\n        // keytool -exportcert -keystore localhost-rsa.jks -alias tomcat -file localhost.crt\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport * as signalR from '@microsoft/signalr';\r\nimport { first } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { TimeHandler } from '../_helpers/time.handler';\r\nimport { SchedulePoolElement } from '../_models/schedulepoolelement';\r\nimport { UserFunction } from '../_models/userfunction';\r\nimport * as moment from 'moment';\r\nimport { AccountService, AlertService } from '../_services';\r\n\r\n@Component({\r\n  selector: 'app-floating-schedules',\r\n  templateUrl: './floating-schedules.component.html',\r\n  styleUrls: ['./floating-schedules.component.less']\r\n})\r\nexport class FloatingSchedulesComponent implements OnInit {\r\n  isLoaded: boolean = false;\r\n  poolElements: SchedulePoolElement[] = [];\r\n  isLoggedAsAdmin: boolean = false;\r\n\r\n  constructor(private accountService: AccountService,\r\n    private alertService: AlertService) {\r\n    this.isLoggedAsAdmin = this.accountService.isAdmin();\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(environment.baseUrl + '/update')\r\n      .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('SignalR Connected!');\r\n    }).catch(function (err) {\r\n      return console.error(err.toString());\r\n    });\r\n\r\n    connection.on(\"SendUpdate\", (id: number) => {\r\n      this.updateSchedulesFromServer();\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateSchedulesFromServer();\r\n  }\r\n\r\n  private updateSchedulesFromServer() {\r\n    this.accountService.getAllAvailableSchedules()\r\n      .pipe(first())\r\n      .subscribe({\r\n        next: (pollElements) => {\r\n          this.poolElements = pollElements.schedulePoolElements;\r\n\r\n          this.isLoaded = true;\r\n        },\r\n        error: error => {\r\n          this.alertService.error(error);\r\n        }\r\n      });\r\n  }\r\n\r\n  onDeletePoolElement(event: any, scheduleId: string, email: string, userFunction: string) { \r\n    let poolElement: SchedulePoolElement = this.getPoolElementById(scheduleId);\r\n    if (poolElement == null)\r\n      return; // Nothing to delete, should never happen\r\n    poolElement.deleting = true;\r\n    this.accountService.deletePoolElement(scheduleId, email, userFunction)\r\n      .pipe(first())\r\n      .subscribe({\r\n        next: (schedulePoolElement) => {\r\n          console.log(schedulePoolElement.email);\r\n          this.accountService.getAllAvailableSchedules()\r\n            .pipe(first())\r\n            .subscribe({\r\n              next: (pollElements) => {\r\n                this.poolElements = pollElements.schedulePoolElements;\r\n\r\n                this.isLoaded = true;\r\n                poolElement.deleting = false;\r\n              },\r\n              error: error => {\r\n                this.alertService.error(error);\r\n                poolElement.deleting = false;\r\n              }\r\n            });\r\n\r\n        },\r\n        error: error => {\r\n          this.alertService.error(error);\r\n        }\r\n      });\r\n\r\n  }\r\n  getPoolElementById(poolId: string): SchedulePoolElement {\r\n    for (let index = 0; index < this.poolElements.length; index++) {\r\n      const element = this.poolElements[index];\r\n      if (element.id === poolId) {\r\n        return element;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  getDisplayDate(date: Date): string {\r\n    // var str = TimeHandler.getDateDisplayStrFromFormat(date);\r\n    // return TimeHandler.getDateDisplayStrFromFormat(date);\r\n\r\n    return TimeHandler.getDateDisplayStrFromFormat(moment(moment.utc(date)).local().toDate());\r\n  }\r\n}\r\n","<div class=\"p-4\">\r\n    <div class=\"container\">\r\n        <div class=\"border border-primary\" *ngIf=\"isLoaded\">\r\n            <table id=scheduledTable class=\"table table-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"width:20%\">Email</th>\r\n                        <th style=\"width:20%\">Date</th>\r\n                        <th style=\"width:20%\">Duty</th>\r\n                        <th style=\"width:20%\">Team</th>\r\n                        <th style=\"width:20%\"></th>\r\n                        \r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"poolElements\">\r\n                    <tr *ngFor=\"let s of poolElements\">\r\n                        <td>{{s.email}} </td>\r\n                        <td>{{getDisplayDate(s.date)}} </td>\r\n                        <td>{{s.userFunction}}</td>\r\n                        <td>{{s.scheduleGroup}}</td>\r\n                        <td style=\"white-space: nowrap\" *ngIf=\"isLoggedAsAdmin\">\r\n                            <button class=\"btn btn-sm btn-danger btn-delete-account\" type=\"button\"\r\n                                (click)=\"onDeletePoolElement($event, s.id, s.email, s.userFunction)\">\r\n                                <span *ngIf=\"s.deleting\" class=\"spinner-border spinner-border-sm mr-1\"></span> Delete\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\n\r\nimport { AccountService } from '../_services';\r\n\r\n@Component({ templateUrl: 'home.component.html' })\r\nexport class HomeComponent {\r\n    account = this.accountService.accountValue;\r\n\r\n    constructor(private accountService: AccountService) { }\r\n}","<div class=\"p-4\">\r\n    <div class=\"container\">\r\n        <h1>Hi {{account.firstName}}!</h1>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTableModule } from '@angular/material/table';\n\n@NgModule({\n\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatCardModule,\n    MatTableModule\n  ],\n\n  exports: [\n    MatButtonModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatCardModule,\n    MatTableModule\n  ]\n})\n\nexport class MaterialModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'orderByDate'\n})\nexport class OrderByDatePipe implements PipeTransform {\n\n  transform(array: any[], property: string, order: 'asc' | 'desc'): any[] {\n    if (!Array.isArray(array) || !property) {\n      return array;\n    }\n\n    // Use index signatures\n    if (property == \"date\") {\n      array.sort((a, b) => {\n        const dateA = new Date(a[property]);\n        const dateB = new Date(b[property]);\n        if (order === 'asc') {\n          return dateA.getTime() - dateB.getTime();\n        } else {\n          return dateB.getTime() - dateA.getTime();\n        }\n      });\n      return array;\n    } else if (property == \"function\") {\n      array.sort((a, b) => {\n        if (order === 'asc') {\n          if (a[property] > b[property]) return 1;\n          if (a[property] < b[property]) return -1;\n          return 0;\n        } else {\n          if (a[property] < b[property]) return 1;\n          if (a[property] > b[property]) return -1;\n          return 0;\n        }\n      });\n      return array;\n    }\n    else {\n      return array;\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, Validator, Validators } from '@angular/forms';\r\nimport { Team, } from '../_models/team';\r\nimport { DateFunctionTeams } from '../_models/teams';\r\nimport { User } from '../_models/user';\r\nimport { AccountService } from '../_services';\r\nimport { first } from 'rxjs/operators';\r\nimport { TimeHandler } from '../_helpers/time.handler';\r\nimport { environment } from 'src/environments/environment';\r\nimport * as moment from 'moment';\r\nimport { ScheduleDateTimes } from '../_models/scheduledatetimes';\r\nimport { ScheduleDateTime } from '../_models/scheduledatetime';\r\nimport { OrderByDatePipe } from '../order-by-date.pipe';\r\n\r\n\r\n@Component({\r\n  selector: 'app-raport-test',\r\n  templateUrl: './raport-for-date.component.html',\r\n  styleUrls: ['./raport-for-date.component.less']\r\n})\r\nexport class RaportForDateComponent implements OnInit {\r\n  form: FormGroup;\r\n  list: Date[] = [];\r\n  futureScheduleDateStrings: string[] = [];\r\n\r\n  dateSelected: string;\r\n  isLoaded: boolean = false;\r\n\r\n  isUsersLoaded: boolean = false;\r\n  users: User[] = [];\r\n  teams: Team[] = [];\r\n  scheduleDateTime : ScheduleDateTime[] = [];\r\n\r\n  constructor(private accountService: AccountService,\r\n    private formBuilder: FormBuilder) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      dates: ['', [Validators.required, this.dateValidator]],\r\n      allDates: [false, '',]\r\n    });\r\n    this.getAllDates();\r\n  }\r\n  onCheckboxChange(event: any) {\r\n    this.getAllDates();\r\n    this.teams = []; // Remove all current teams - we have new set of dates\r\n  }\r\n\r\n  get f() {\r\n    return this.form.controls;\r\n  }\r\n\r\n  reverseScheduleLookup(dateStr: string) : Date {\r\n    \r\n    for (let index = 0; index < this.scheduleDateTime.length; index++) {\r\n      const scheduleDateTime = this.scheduleDateTime[index];\r\n      var  dStr = this.getDateDisplayStr(scheduleDateTime.date);\r\n      if(dStr == dateStr)\r\n        return scheduleDateTime.date;\r\n    } \r\n    return null;\r\n  }\r\n\r\n  onSelected(value: any): void {\r\n    this.dateSelected = value;\r\n    if (this.futureScheduleDateStrings.length <= 0)\r\n      return;\r\n\r\n    var selectedDate = this.form.get('dates').value;\r\n    var selectedDateInParseFormat = moment(selectedDate, `${environment.dateTimeFormat}`);\r\n    if (isNaN(Date.parse(selectedDateInParseFormat.toString()/* selectedDate */))) // If Date is invalid then return (e.g. \"Choose here\")\r\n      return;\r\n\r\n    this.users = [];\r\n    \r\n    const array = selectedDate.split(\"/\");\r\n\r\n    var date = this.reverseScheduleLookup(array[0]);\r\n    this.accountService.GetTeamsByFunctionForDate(date)\r\n      .pipe(first())\r\n      .subscribe({\r\n        next: (dateFunctionTeams: DateFunctionTeams) => {\r\n          this.teams = dateFunctionTeams.dateFunctionTeams;\r\n\r\n          for (let index = 0; index < this.teams.length; index++) {\r\n            var user: User[] = this.teams[index].users\r\n            console.log(this.teams[index]);\r\n\r\n            for (let i = 0; i < this.teams[index].users.length; i++) {\r\n              this.users.push(this.teams[index].users[i]);\r\n            }\r\n            console.log(this.users);\r\n          }\r\n        },\r\n        error: error => {\r\n          console.log();\r\n        }\r\n      });\r\n\r\n  }\r\n\r\n  getAllDates() {\r\n    this.futureScheduleDateStrings = [];\r\n    this.list = [];\r\n    this.accountService.getAllDates()\r\n      .pipe(first())\r\n      .subscribe({\r\n        next: (value : ScheduleDateTimes) => {\r\n          this.scheduleDateTime = value.scheduleDateTimes;\r\n\r\n          for (let index = 0; index < value.scheduleDateTimes.length; index++) {\r\n            // Add server side date\r\n            this.list.push(value.scheduleDateTimes[index].date)\r\n          }\r\n          this.list.sort(function (a, b) {\r\n            if (a > b) return 1\r\n            if (a < b) return -1\r\n            return 0\r\n          });\r\n\r\n          for (let index = 0; index < this.list.length; index++) {\r\n            var tNowLocalMs = Date.now();\r\n            const scheduleServerDate = this.list[index];\r\n            var scheduleLocalDate = moment(moment.utc(scheduleServerDate)).local().toDate();\r\n            var scheduleLocalMs = scheduleLocalDate.getTime();\r\n\r\n            if (this.f['allDates'].value || scheduleLocalMs > tNowLocalMs) {\r\n              this.futureScheduleDateStrings.push(this.getDateDisplayStr(scheduleServerDate));\r\n            }\r\n          }\r\n\r\n          this.isLoaded = true;\r\n        },\r\n        error: error => {\r\n          console.log();\r\n        }\r\n      });\r\n\r\n  }\r\n  getDayStrFromDate(dateStr: string): string {\r\n    var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    var date = TimeHandler.displayStr2Date(dateStr);\r\n    return days[date.getDay()];  \r\n  }\r\n  getDateDisplayStr(date: Date): string {\r\n    return TimeHandler.getDateDisplayStrFromFormat(moment(moment.utc(date)).local().toDate());  \r\n  }\r\n\r\n  dateValidator(control: FormControl): { [s: string]: boolean } {\r\n    var test = control.value.match(/^\\d/);\r\n    if (!test) {\r\n      return { invalidDate: true };\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","<div class=\"p-4\">\r\n    <div class=\"container\" *ngIf=\"futureScheduleDateStrings\">\r\n        <form [formGroup]=\"form\">\r\n            <div class=\"mb-3\">\r\n                <label for=\"dates\" class=\"me-2\">Dates:</label>\r\n                <input type=\"checkbox\" (change)=\"onCheckboxChange($event)\" formControlName=\"allDates\" id=\"allDates\"\r\n                    name=\"allDates\" value=\"\" class=\"ms-5\">\r\n                <label for=\"allDates\" class=\"ps-2\">All</label><br>\r\n                <select #dates formControlName=\"dates\" class=\"form-select\" (ngModelChange)=\"onSelected($event)\" >Choose\r\n                    <option value=\"\" selected hidden>Choose here</option>\r\n                    <option *ngFor=\"let date of futureScheduleDateStrings\">{{date}}/{{getDayStrFromDate(date)}}</option>\r\n                </select>\r\n                <div *ngIf=\"f['dates'].dirty && f['dates'].hasError('invalidDate')\" class=\"alert alert-danger\">Date must\r\n                    be\r\n                    valid\r\n                </div>\r\n            </div>\r\n\r\n            <fieldset *ngFor=\"let team of teams | orderByDate: 'function': 'asc' \">\r\n            <!-- <fieldset *ngFor=\"let team of teams\"> -->\r\n                <legend>{{team.function}} :</legend>\r\n                <div class=\"border border-primary\">\r\n\r\n                    <table id=scheduledTable class=\"table table-striped\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=\"width:30%\">Duty</th>\r\n                                <th style=\"width:30%\">User</th>\r\n                                <th style=\"width:30%\">Team</th>\r\n                                <th style=\"width:10%\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let user of team.users\">\r\n                                <td>{{user.function}} </td>\r\n                                <td>{{user.firstName}} </td>\r\n                                <td>{{user.scheduleGroup}} </td>\r\n                            </tr>\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  dateTimeFormat: 'DD-MM-YYYY HH:mm',\r\n  dateFormat: 'DD-MM-YYYY',\r\n  shortDateTimeFormat: 'DD.MM.YY HH:mm',\r\n  \r\n\r\n  //apiUrl: 'https://49.176.185.39:4000'\r\n  //apiUrl: 'https://oloaschedulemebackend.azurewebsites.net/',\r\n  //apiUrl: 'http://localhost:4000',\r\n  //apiUrl: 'http://rejkid.hopto.org:4000'\r\n  apiUrl: 'https://192.168.0.19:4000',\r\n\r\n  //baseUrl: 'https://rejkid.hopto.org:4000',\r\n  //baseUrl: 'https://oloaschedulemebackend.azurewebsites.net/'\r\n  //baseUrl: 'http://localhost:4000'\r\n  baseUrl: 'https://192.168.0.19:4000'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown .\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","var map = {\n\t\"./af\": 8685,\n\t\"./af.js\": 8685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 2614,\n\t\"./ar-kw.js\": 2614,\n\t\"./ar-ly\": 8630,\n\t\"./ar-ly.js\": 8630,\n\t\"./ar-ma\": 8674,\n\t\"./ar-ma.js\": 8674,\n\t\"./ar-sa\": 9032,\n\t\"./ar-sa.js\": 9032,\n\t\"./ar-tn\": 4730,\n\t\"./ar-tn.js\": 4730,\n\t\"./ar.js\": 254,\n\t\"./az\": 3052,\n\t\"./az.js\": 3052,\n\t\"./be\": 150,\n\t\"./be.js\": 150,\n\t\"./bg\": 3069,\n\t\"./bg.js\": 3069,\n\t\"./bm\": 3466,\n\t\"./bm.js\": 3466,\n\t\"./bn\": 8516,\n\t\"./bn-bd\": 557,\n\t\"./bn-bd.js\": 557,\n\t\"./bn.js\": 8516,\n\t\"./bo\": 6273,\n\t\"./bo.js\": 6273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 9815,\n\t\"./bs.js\": 9815,\n\t\"./ca\": 3331,\n\t\"./ca.js\": 3331,\n\t\"./cs\": 1320,\n\t\"./cs.js\": 1320,\n\t\"./cv\": 2219,\n\t\"./cv.js\": 2219,\n\t\"./cy\": 8266,\n\t\"./cy.js\": 8266,\n\t\"./da\": 6427,\n\t\"./da.js\": 6427,\n\t\"./de\": 7435,\n\t\"./de-at\": 2871,\n\t\"./de-at.js\": 2871,\n\t\"./de-ch\": 2994,\n\t\"./de-ch.js\": 2994,\n\t\"./de.js\": 7435,\n\t\"./dv\": 2357,\n\t\"./dv.js\": 2357,\n\t\"./el\": 5649,\n\t\"./el.js\": 5649,\n\t\"./en-au\": 9961,\n\t\"./en-au.js\": 9961,\n\t\"./en-ca\": 9878,\n\t\"./en-ca.js\": 9878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 864,\n\t\"./en-ie.js\": 864,\n\t\"./en-il\": 1579,\n\t\"./en-il.js\": 1579,\n\t\"./en-in\": 940,\n\t\"./en-in.js\": 940,\n\t\"./en-nz\": 6181,\n\t\"./en-nz.js\": 6181,\n\t\"./en-sg\": 4301,\n\t\"./en-sg.js\": 4301,\n\t\"./eo\": 5291,\n\t\"./eo.js\": 5291,\n\t\"./es\": 4529,\n\t\"./es-do\": 3764,\n\t\"./es-do.js\": 3764,\n\t\"./es-mx\": 2584,\n\t\"./es-mx.js\": 2584,\n\t\"./es-us\": 3425,\n\t\"./es-us.js\": 3425,\n\t\"./es.js\": 4529,\n\t\"./et\": 5203,\n\t\"./et.js\": 5203,\n\t\"./eu\": 678,\n\t\"./eu.js\": 678,\n\t\"./fa\": 3483,\n\t\"./fa.js\": 3483,\n\t\"./fi\": 6262,\n\t\"./fi.js\": 6262,\n\t\"./fil\": 2521,\n\t\"./fil.js\": 2521,\n\t\"./fo\": 4555,\n\t\"./fo.js\": 4555,\n\t\"./fr\": 3131,\n\t\"./fr-ca\": 8239,\n\t\"./fr-ca.js\": 8239,\n\t\"./fr-ch\": 1702,\n\t\"./fr-ch.js\": 1702,\n\t\"./fr.js\": 3131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 3821,\n\t\"./ga.js\": 3821,\n\t\"./gd\": 1753,\n\t\"./gd.js\": 1753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 2762,\n\t\"./gom-deva.js\": 2762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 2809,\n\t\"./gu.js\": 2809,\n\t\"./he\": 5402,\n\t\"./he.js\": 5402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 410,\n\t\"./hr.js\": 410,\n\t\"./hu\": 8288,\n\t\"./hu.js\": 8288,\n\t\"./hy-am\": 7928,\n\t\"./hy-am.js\": 7928,\n\t\"./id\": 1334,\n\t\"./id.js\": 1334,\n\t\"./is\": 6959,\n\t\"./is.js\": 6959,\n\t\"./it\": 4864,\n\t\"./it-ch\": 1124,\n\t\"./it-ch.js\": 1124,\n\t\"./it.js\": 4864,\n\t\"./ja\": 6141,\n\t\"./ja.js\": 6141,\n\t\"./jv\": 9187,\n\t\"./jv.js\": 9187,\n\t\"./ka\": 2136,\n\t\"./ka.js\": 2136,\n\t\"./kk\": 4332,\n\t\"./kk.js\": 4332,\n\t\"./km\": 8607,\n\t\"./km.js\": 8607,\n\t\"./kn\": 4305,\n\t\"./kn.js\": 4305,\n\t\"./ko\": 234,\n\t\"./ko.js\": 234,\n\t\"./ku\": 6003,\n\t\"./ku.js\": 6003,\n\t\"./ky\": 5061,\n\t\"./ky.js\": 5061,\n\t\"./lb\": 2786,\n\t\"./lb.js\": 2786,\n\t\"./lo\": 6183,\n\t\"./lo.js\": 6183,\n\t\"./lt\": 29,\n\t\"./lt.js\": 29,\n\t\"./lv\": 4169,\n\t\"./lv.js\": 4169,\n\t\"./me\": 8577,\n\t\"./me.js\": 8577,\n\t\"./mi\": 8177,\n\t\"./mi.js\": 8177,\n\t\"./mk\": 337,\n\t\"./mk.js\": 337,\n\t\"./ml\": 5260,\n\t\"./ml.js\": 5260,\n\t\"./mn\": 2325,\n\t\"./mn.js\": 2325,\n\t\"./mr\": 4695,\n\t\"./mr.js\": 4695,\n\t\"./ms\": 5334,\n\t\"./ms-my\": 7151,\n\t\"./ms-my.js\": 7151,\n\t\"./ms.js\": 5334,\n\t\"./mt\": 3570,\n\t\"./mt.js\": 3570,\n\t\"./my\": 7963,\n\t\"./my.js\": 7963,\n\t\"./nb\": 8028,\n\t\"./nb.js\": 8028,\n\t\"./ne\": 6638,\n\t\"./ne.js\": 6638,\n\t\"./nl\": 302,\n\t\"./nl-be\": 6782,\n\t\"./nl-be.js\": 6782,\n\t\"./nl.js\": 302,\n\t\"./nn\": 3501,\n\t\"./nn.js\": 3501,\n\t\"./oc-lnc\": 563,\n\t\"./oc-lnc.js\": 563,\n\t\"./pa-in\": 869,\n\t\"./pa-in.js\": 869,\n\t\"./pl\": 5302,\n\t\"./pl.js\": 5302,\n\t\"./pt\": 9687,\n\t\"./pt-br\": 4884,\n\t\"./pt-br.js\": 4884,\n\t\"./pt.js\": 9687,\n\t\"./ro\": 9107,\n\t\"./ro.js\": 9107,\n\t\"./ru\": 3627,\n\t\"./ru.js\": 3627,\n\t\"./sd\": 355,\n\t\"./sd.js\": 355,\n\t\"./se\": 3427,\n\t\"./se.js\": 3427,\n\t\"./si\": 1848,\n\t\"./si.js\": 1848,\n\t\"./sk\": 4590,\n\t\"./sk.js\": 4590,\n\t\"./sl\": 184,\n\t\"./sl.js\": 184,\n\t\"./sq\": 6361,\n\t\"./sq.js\": 6361,\n\t\"./sr\": 8965,\n\t\"./sr-cyrl\": 1287,\n\t\"./sr-cyrl.js\": 1287,\n\t\"./sr.js\": 8965,\n\t\"./ss\": 5456,\n\t\"./ss.js\": 5456,\n\t\"./sv\": 451,\n\t\"./sv.js\": 451,\n\t\"./sw\": 7558,\n\t\"./sw.js\": 7558,\n\t\"./ta\": 1356,\n\t\"./ta.js\": 1356,\n\t\"./te\": 3693,\n\t\"./te.js\": 3693,\n\t\"./tet\": 1243,\n\t\"./tet.js\": 1243,\n\t\"./tg\": 2500,\n\t\"./tg.js\": 2500,\n\t\"./th\": 5768,\n\t\"./th.js\": 5768,\n\t\"./tk\": 7761,\n\t\"./tk.js\": 7761,\n\t\"./tl-ph\": 5780,\n\t\"./tl-ph.js\": 5780,\n\t\"./tlh\": 9590,\n\t\"./tlh.js\": 9590,\n\t\"./tr\": 3807,\n\t\"./tr.js\": 3807,\n\t\"./tzl\": 3857,\n\t\"./tzl.js\": 3857,\n\t\"./tzm\": 654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 654,\n\t\"./ug-cn\": 845,\n\t\"./ug-cn.js\": 845,\n\t\"./uk\": 9232,\n\t\"./uk.js\": 9232,\n\t\"./ur\": 7052,\n\t\"./ur.js\": 7052,\n\t\"./uz\": 7967,\n\t\"./uz-latn\": 2233,\n\t\"./uz-latn.js\": 2233,\n\t\"./uz.js\": 7967,\n\t\"./vi\": 8615,\n\t\"./vi.js\": 8615,\n\t\"./x-pseudo\": 2320,\n\t\"./x-pseudo.js\": 2320,\n\t\"./yo\": 1313,\n\t\"./yo.js\": 1313,\n\t\"./zh-cn\": 4490,\n\t\"./zh-cn.js\": 4490,\n\t\"./zh-hk\": 5910,\n\t\"./zh-hk.js\": 5910,\n\t\"./zh-mo\": 8262,\n\t\"./zh-mo.js\": 8262,\n\t\"./zh-tw\": 4223,\n\t\"./zh-tw.js\": 4223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;"],"names":["NavigationStart","AlertType","i0","AlertComponent","constructor","router","alertService","ngOnInit","alertSubscription","onAlert","id","subscribe","alert","message","alerts","filter","x","keepAfterRouteChange","forEach","push","autoClose","setTimeout","removeAlert","routeSubscription","events","event","clear","ngOnDestroy","unsubscribe","includes","fade","cssClasses","classes","alertTypeClass","Success","Error","Info","Warning","type","join","selectors","inputs","decls","vars","consts","template","appInitializer","accountService","Promise","resolve","refreshToken","next","value","console","log","firstName","lastName","email","error","add","then","catch","Router","ActivatedRouteSnapshot","RouterStateSnapshot","AuthGuard","canActivate","route","state","parent","url","getConfiguredUrl","getResolvedUrl","window","location","href","account","accountValue","data","role","navigate","queryParams","returnUrl","pathFromRoot","v","routeConfig","map","path","segment","toString","queryParam","queryParamMap","keys","length","key","getAll","getResolvedUrlFromChildren","factory","providedIn","HttpRequest","HttpHandler","HttpEvent","throwError","catchError","ErrorInterceptor","intercept","request","handle","pipe","err","status","logout","erro","statusText","environment","JwtInterceptor","isLoggedIn","jwtToken","isApiUrl","startsWith","apiUrl","clone","setHeaders","Authorization","MustMatch","controlName","matchingControlName","formGroup","control","controls","matchingControl","errors","setErrors","mustMatch","moment","dateFormat","dateTimeFormat","shortDateFormat","shortDateTimeFormat","TimeHandler","dateValidator","AC","isValid","displayStr2LocalIsoString","dateStr","date","toDate","zoneOffset","getTimezoneOffset","localISOTime","Date","getTime","toISOString","replace","displayStr2Date","localDateStr2LocalDate","getDateDisplayStrFromFormat","format","getDateDisplayStrFromShortFormat","getDatetimeLocaleFromDisplayDate","convertServerDate2Local","utc","local","Account","Alert","init","Object","assign","Role","HttpHeaders","BehaviorSubject","finalize","baseUrl","AccountService","http","accountSubject","asObservable","login","password","dob","post","withCredentials","startRefreshTokenTimer","stopRefreshTokenTimer","cookie","document","register","verifyEmail","token","forgotPassword","validateResetToken","resetPassword","confirmPassword","headers","set","get","getById","getAllDates","GetTeamsByFunctionForDate","getAvailableSchedules","getAllAvailableSchedules","addSchedule","schedule","put","updateSchedule","deleteSchedule","addFunction","userFunction","deleteFunction","deletePoolElement","MoveSchedule2Pool","GetScheduleFromPool","create","params","update","delete","isAdmin","Admin","header","JSON","parse","atob","split","payload","signature","expires","exp","timeout","now","refreshTokenTimeout","clearTimeout","getRoles","Subject","AlertService","defaultId","subject","success","options","info","warn","undefined","RouterModule","FloatingSchedulesComponent","HomeComponent","RaportForDateComponent","accountModule","AccountModule","adminModule","AdminModule","profileModule","ProfileModule","scheduleModule","ScheduleRoutingModule","routes","component","loadChildren","roles","redirectTo","AppRoutingModule","forRoot","imports","exports","AppComponent","isLoaded","APP_INITIALIZER","BrowserModule","FormsModule","ReactiveFormsModule","HttpClientModule","HTTP_INTERCEPTORS","CommonModule","BrowserAnimationsModule","MaterialModule","MatSortModule","MatTableModule","MatPaginatorModule","MatButtonModule","MatDatepickerModule","MatInputModule","MatNativeDateModule","MatFormFieldModule","NgxMatDatetimePickerModule","NgxMatNativeDateModule","OrderByDatePipe","AppModule","bootstrap","provide","useFactory","multi","deps","useClass","declarations","signalR","first","isLoggedAsAdmin","connection","HubConnectionBuilder","configureLogging","LogLevel","Information","withUrl","build","start","on","updateSchedulesFromServer","pollElements","poolElements","schedulePoolElements","onDeletePoolElement","scheduleId","poolElement","getPoolElementById","deleting","schedulePoolElement","poolId","index","element","getDisplayDate","MatIconModule","MatCardModule","MatToolbarModule","transform","array","property","order","Array","isArray","sort","a","b","dateA","dateB","pure","FormBuilder","FormControl","FormGroup","Validators","formBuilder","form","group","dates","required","allDates","onCheckboxChange","teams","f","reverseScheduleLookup","scheduleDateTime","dStr","getDateDisplayStr","onSelected","dateSelected","futureScheduleDateStrings","selectedDate","selectedDateInParseFormat","isNaN","users","dateFunctionTeams","user","i","list","scheduleDateTimes","tNowLocalMs","scheduleServerDate","scheduleLocalDate","scheduleLocalMs","getDayStrFromDate","days","getDay","test","match","invalidDate","production","enableProdMode","__NgCli_bootstrap_1","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[30]}